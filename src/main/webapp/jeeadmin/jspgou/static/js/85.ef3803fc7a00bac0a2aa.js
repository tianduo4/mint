webpackJsonp([85],{"+BWK":function(t,e,a){e=t.exports=a("BkJT")(!1),e.push([t.i,".flex-group{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;text-align:center;color:#8a8e98;font-size:14px;margin:6px 0}.flex-group .gray{color:#d8dce5}.s-102{width:102px;text-align:center}.s-102,.s-266{margin-right:36px}.s-266{width:266px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.s-64{width:64px;margin-right:62px}.s-30{width:30px;height:36px;line-height:36px;cursor:pointer}.el-color-picker__trigger{width:36px;height:36px;margin-left:7px}.bbs-delete{font-size:22px}",""])},Jrzh:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"forum-module"},[a("div",{staticClass:"forum-header"},[a("span",{staticClass:"forum-name"},[t._v(t._s(t.$route.name))]),t._v(" "),a("div",{staticClass:"pull-right"},[a("el-button",{staticClass:"back",on:{click:function(e){t.routerLink("/standardList","list")}}},[t._v("返回列表")])],1)]),t._v(" "),a("el-form",{ref:"form",staticClass:"table-body",attrs:{"label-width":"160px",model:t.info,rules:t.rules}},[a("el-row",{staticClass:"form-group"},[a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"规格名称",prop:"name"}},[a("el-input",{staticClass:"w192",model:{value:t.info.name,callback:function(e){t.$set(t.info,"name",e)},expression:"info.name"}})],1)],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"字段名称",required:!0}},[a("el-input",{staticClass:"w192",model:{value:t.info.field,callback:function(e){t.$set(t.info,"field",e)},expression:"info.field"}})],1)],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24}},[a("el-col",{staticClass:"border-none",attrs:{span:12}},[a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{staticClass:"w192",model:{value:t.info.remark,callback:function(e){t.$set(t.info,"remark",e)},expression:"info.remark"}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24}},[a("el-form-item",{attrs:{label:"规格类型"}},[a("el-radio",{attrs:{label:!0},model:{value:t.info.dataType,callback:function(e){t.$set(t.info,"dataType",e)},expression:"info.dataType"}},[t._v("图片")]),t._v(" "),a("el-radio",{attrs:{label:!1},model:{value:t.info.dataType,callback:function(e){t.$set(t.info,"dataType",e)},expression:"info.dataType"}},[t._v("文字")])],1)],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24}},[a("el-col",{staticClass:"border-none",attrs:{span:12}},[a("el-form-item",{attrs:{label:"排序",prop:"priority"}},[a("el-input",{staticClass:"w192",attrs:{type:"number",min:"0"},model:{value:t.info.priority,callback:function(e){t.$set(t.info,"priority",t._n(e))},expression:"info.priority"}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24}},[a("el-form-item",{attrs:{label:"规格值"}},[a("el-button",{on:{click:t.addInfoItems}},[t._v("添加规格值")]),t._v(" "),a("div",{staticClass:"flex-group"},[a("div",{staticClass:"s-102"},[t._v("规格值名称")]),t._v(" "),a("div",{staticClass:"s-266"},[t._v("颜色 "),a("span",{staticClass:"gray"},[t._v("(仅当规格为颜色时使用)")])]),t._v(" "),a("div",{staticClass:"s-64"},[t._v("排序")]),t._v(" "),a("div",{staticClass:"s-30"},[t._v("操作")])]),t._v(" "),t._l(t.infoItems,function(e,n){return a("div",{key:e.itemId,staticClass:"flex-group"},[a("div",{staticClass:"s-102"},[a("el-input",{model:{value:e.itemName,callback:function(a){t.$set(e,"itemName",a)},expression:"item.itemName"}})],1),t._v(" "),a("div",{staticClass:"s-266"},[a("el-input",{staticStyle:{width:"225px"},attrs:{placeholder:"输入颜色代码或在右侧选择"},model:{value:e.itemColor,callback:function(a){t.$set(e,"itemColor",a)},expression:"item.itemColor"}}),t._v(" "),a("el-color-picker",{model:{value:e.itemColor,callback:function(a){t.$set(e,"itemColor",a)},expression:"item.itemColor"}})],1),t._v(" "),a("div",{staticClass:"s-64"},[a("el-input",{attrs:{type:"number",min:"0"},model:{value:e.itemPriority,callback:function(a){t.$set(e,"itemPriority",t._n(a))},expression:"item.itemPriority"}})],1),t._v(" "),a("div",{staticClass:"s-30"},[a("span",{staticClass:"iconfont bbs-delete",on:{click:function(e){t.deleteInfoItems(n)}}})])])})],2)],1)],1)],1),t._v(" "),a("div",{staticClass:"form-bottom-bar"},["save"==t.type?a("el-button",{attrs:{type:"warning"},on:{click:function(e){t.saveForm(!0)}}},[t._v("提交并继续添加")]):t._e(),t._v(" "),"save"==t.type?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.saveForm(!1)}}},[t._v("添加")]):t._e(),t._v(" "),"update"==t.type?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.updateForm()}}},[t._v("修改")]):t._e(),t._v(" "),a("el-button",{attrs:{type:"info"},on:{click:function(e){t.restForm()}}},[t._v("重置")]),t._v(" "),"save"==t.type?a("div",{staticClass:"help-info"},[t._v("选择“提交并继续添加”按钮会停留在添加页面；选择“添加”按钮后将跳转到对应的列表页。")]):t._e()],1)],1)},i=[],o={render:n,staticRenderFns:i};e.a=o},YOZi:function(t,e,a){"use strict";function n(t){a("ufw4")}Object.defineProperty(e,"__esModule",{value:!0});var i=a("rJt7"),o=a("Jrzh"),r=a("46Yf"),s=n,l=r(i.a,o.a,!1,s,null,null);e.default=l.exports},rJt7:function(t,e,a){"use strict";var n=a("wc4o");e.a={data:function(){return{loading:!0,type:this.$route.query.type,id:this.$route.query.id,info:{},infoItems:[],itemName:[],itemColor:[],itemPriority:[],itemId:[],categoryIdList:[],rules:{name:[{required:!0,message:"请输入分类名",trigger:"blur"}],path:[{required:!0,message:"请输入路径",trigger:"blur"}],priority:[{required:!0,message:"请输入排序",type:"number",trigger:"blur"}]}}},methods:{getInfo:function(t){var e=this;n.I({id:t}).then(function(t){e.info=t.body.standardType,e.infoItems=t.body.standard,e.loading=!1})},addInfoItems:function(){var t={itemName:"",itemColor:"",itemPriority:"",itemId:""};this.infoItems.push(t)},deleteInfoItems:function(t){this.infoItems.splice(t,1)},updateForm:function(){var t=this;this.$refs.form.validate(function(e){e&&(t.loading=!0,t.info.itemName=t.itemName.join(","),t.info.itemColor=t.itemColor.join(","),t.info.itemPriority=t.itemPriority.join(","),t.info.itemId=t.itemId.join(","),n.T(t.info).then(function(e){t.loading=!1,200==e.code&&(t.successMessage("修改成功"),setTimeout(function(){t.routerLink("/standardList","list")},1e3))}))})},saveForm:function(t){var e=this;this.$refs.form.validate(function(a){a&&(e.loading=!0,e.info.itemName=e.itemName.join(","),e.info.itemColor=e.itemColor.join(","),e.info.itemPriority=e.itemPriority.join(","),n.d(e.info).then(function(a){e.loading=!1,200==a.code&&(e.successMessage("添加成功"),t?e.getInfo(e.id):setTimeout(function(){e.routerLink("/standardList","list")},1e3))}))})},restForm:function(){this.$refs.form.resetFields(),this.getInfo(this.id)}},watch:{infoItems:{handler:function(t,e){var a=[],n=[],i=[],o=[];for(var r in t)a.push(t[r].itemName),n.push(t[r].itemColor),i.push(t[r].itemPriority),o.push(t[r].itemId);this.itemName=a,this.itemColor=n,this.itemPriority=i,this.itemId=o},deep:!0}},created:function(){this.getInfo(this.id)}}},ufw4:function(t,e,a){var n=a("+BWK");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("8bSs")("9cf41990",n,!0)},wc4o:function(t,e,a){"use strict";function n(t){return Object(Q.a)({url:U.a.getProductList,method:"post",data:t,nonceStr:!0,signValidate:!0})}function i(t){return Object(Q.a)({url:U.a.getProductInfo,method:"post",data:t,nonceStr:!0,signValidate:!0})}function o(t){return Object(Q.a)({url:U.a.getBrandListByCategoryId,method:"post",data:t,nonceStr:!0,signValidate:!0})}function r(t){return Object(Q.a)({url:U.a.addProductList,method:"post",data:t,nonceStr:!0,signValidate:!0})}function s(t){return Object(Q.a)({url:U.a.updateProductList,method:"post",data:t,nonceStr:!0,signValidate:!0})}function l(t){return Object(Q.a)({url:U.a.deleteProductList,method:"post",data:t,nonceStr:!0,signValidate:!0})}function d(t){return Object(Q.a)({url:U.a.getCommodityCategoryTree,method:"post",data:t,signValidate:!0})}function c(t){return Object(Q.a)({url:U.a.getCommodityCategoryList,method:"post",data:t,signValidate:!0})}function u(t){return Object(Q.a)({url:U.a.getCommodityCategoryInfo,method:"post",data:t,signValidate:!0})}function m(t){return Object(Q.a)({url:U.a.getHotList,method:"post",data:t,signValidate:!0})}function f(t){return Object(Q.a)({url:U.a.getSaleChatList,method:"post",data:t,signValidate:!0})}function p(t){return Object(Q.a)({url:U.a.addCommodityCategoryInfo,method:"post",data:t,nonceStr:!0,signValidate:!0})}function g(t){return Object(Q.a)({url:U.a.updateCommodityCategoryInfo,method:"post",data:t,nonceStr:!0,signValidate:!0})}function b(t){return Object(Q.a)({url:U.a.getCommodityTopCategory,method:"post",data:t,signValidate:!0})}function h(t){return Object(Q.a)({url:U.a.getCommodityTemplate,method:"post",data:t,signValidate:!0})}function y(t){return Object(Q.a)({url:U.a.getCommodityBrand,method:"post",nonceStr:!0,data:t,signValidate:!0})}function v(t){return Object(Q.a)({url:U.a.getCommodityStandardType,method:"post",nonceStr:!0,data:t,signValidate:!0})}function C(t){return Object(Q.a)({url:U.a.getBrandList,method:"post",nonceStr:!0,data:t,signValidate:!0})}function I(t){return Object(Q.a)({url:U.a.getBrandInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function j(t){return Object(Q.a)({url:U.a.getBrandTypeInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function x(t){return Object(Q.a)({url:U.a.addBrandInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function S(t){return Object(Q.a)({url:U.a.updateBrandInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function _(t){return Object(Q.a)({url:U.a.deleteBrandInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function O(t){return Object(Q.a)({url:U.a.priorityBrandInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function V(t){return Object(Q.a)({url:U.a.deleteCommodityCategoryInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function k(t){return Object(Q.a)({url:U.a.priorityCommodityCategoryInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function w(t){return Object(Q.a)({url:U.a.getStandardList,method:"post",nonceStr:!0,data:t,signValidate:!0})}function L(t){return Object(Q.a)({url:U.a.getStandardInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function T(t){return Object(Q.a)({url:U.a.addStandardInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function P(t){return Object(Q.a)({url:U.a.updateStandardInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function $(t){return Object(Q.a)({url:U.a.deleteStandardInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function B(t){return Object(Q.a)({url:U.a.priorityStandardInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function N(t){return Object(Q.a)({url:U.a.getTypeInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function F(t){return Object(Q.a)({url:U.a.addTypeInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function q(t){return Object(Q.a)({url:U.a.updateTypeInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function z(t){return Object(Q.a)({url:U.a.deleteTypeInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function J(t){return Object(Q.a)({url:U.a.getModelList,method:"post",nonceStr:!0,data:t,signValidate:!0})}function M(t){return Object(Q.a)({url:U.a.getModelListAll,method:"post",nonceStr:!0,data:t,signValidate:!0})}function D(t){return Object(Q.a)({url:U.a.getModelInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function K(t){return Object(Q.a)({url:U.a.getConsultList,method:"post",nonceStr:!0,data:t,signValidate:!0})}function Y(t){return Object(Q.a)({url:U.a.getConsultInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function A(t){return Object(Q.a)({url:U.a.updateConsultInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function E(t){return Object(Q.a)({url:U.a.deleteConsultInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function H(t){return Object(Q.a)({url:U.a.getDiscussList,method:"post",nonceStr:!0,data:t,signValidate:!0})}function R(t){return Object(Q.a)({url:U.a.getDiscussInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function W(t){return Object(Q.a)({url:U.a.updateDiscussInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function G(t){return Object(Q.a)({url:U.a.deleteDiscussInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}e.G=n,e.F=i,e.o=o,e.c=r,e.S=s,e.j=l,e.t=d,e.s=c,e.r=u,e.B=m,e.H=f,e.b=p,e.P=g,e.w=b,e.v=h,e.q=y,e.u=v,e.n=C,e.m=I,e.p=j,e.a=x,e.O=S,e.f=_,e.L=O,e.g=V,e.M=k,e.J=w,e.I=L,e.d=T,e.T=P,e.k=$,e.N=B,e.K=N,e.e=F,e.U=q,e.l=z,e.D=J,e.E=M,e.C=D,e.y=K,e.x=Y,e.Q=A,e.h=E,e.A=H,e.z=R,e.R=W,e.i=G;var Q=a("yYIz"),U=a("z+6n")}});