webpackJsonp([33],{Oah2:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"forum-module"},[n("div",{staticClass:"forum-header"},[n("span",{staticClass:"forum-name"},[t._v(t._s(t.$route.name))])]),t._v(" "),n("el-form",{ref:"form",staticClass:"table-body",attrs:{"label-width":"160px",model:t.info,rules:t.rules}},[n("el-row",{staticClass:"form-group"},[n("el-col",{attrs:{xs:24,sm:24,md:24,lg:24}},[n("el-col",{staticClass:"border-none",attrs:{span:12}},[n("el-form-item",{attrs:{label:"等级名称",prop:"name"}},[n("el-input",{staticClass:"w192",model:{value:t.info.name,callback:function(e){t.$set(t.info,"name",e)},expression:"info.name"}})],1)],1)],1),t._v(" "),n("el-col",{attrs:{xs:24,sm:24,md:24,lg:24}},[n("el-col",{staticClass:"border-none",attrs:{span:12}},[n("el-form-item",{attrs:{label:"积分",prop:"score"}},[n("el-input",{staticClass:"w192",attrs:{type:"number",min:"0"},model:{value:t.info.score,callback:function(e){t.$set(t.info,"score",t._n(e))},expression:"info.score"}})],1)],1)],1),t._v(" "),n("el-col",{attrs:{xs:24,sm:24,md:24,lg:24}},[n("el-col",{staticClass:"border-none",attrs:{span:12}},[n("el-form-item",{attrs:{label:"折扣额",prop:"discount"}},[n("el-input",{staticClass:"w192",attrs:{type:"number",min:"0",max:"99"},model:{value:t.info.discount,callback:function(e){t.$set(t.info,"discount",t._n(e))},expression:"info.discount"}})],1)],1)],1)],1)],1),t._v(" "),n("div",{staticClass:"form-bottom-bar"},["save"==t.type?n("el-button",{attrs:{type:"warning"},on:{click:function(e){t.saveForm(!0)}}},[t._v("提交并继续添加")]):t._e(),t._v(" "),"save"==t.type?n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.saveForm(!1)}}},[t._v("添加")]):t._e(),t._v(" "),"update"==t.type?n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.updateForm()}}},[t._v("提交")]):t._e(),t._v(" "),n("el-button",{attrs:{type:"info"},on:{click:function(e){t.restForm()}}},[t._v("重置")]),t._v(" "),"save"==t.type?n("div",{staticClass:"help-info"},[t._v("选择“提交并继续添加”按钮会停留在添加页面；选择“添加”按钮后将跳转到对应的列表页。")]):t._e()],1)],1)},o=[],s={render:a,staticRenderFns:o};e.a=s},"R/Y8":function(t,e,n){"use strict";function a(t){n("i7MD")}Object.defineProperty(e,"__esModule",{value:!0});var o=n("WRG/"),s=n("Oah2"),i=n("/Xao"),r=a,l=i(o.a,s.a,!1,r,null,null);e.default=l.exports},"WRG/":function(t,e,n){"use strict";var a=n("2sCs"),o=(n.n(a),n("cn+c"));n("FVK1");e.a={data:function(){return{loading:!0,type:this.$route.query.type,id:this.$route.query.id,info:{},rules:{name:[{required:!0,message:"请输入用户等级名称",trigger:"blur"}],score:[{required:!0,type:"number",message:"请输入积分",trigger:"blur"}],discount:[{required:!0,type:"number",message:"请输入折扣额",trigger:"blur"}]}}},methods:{getInfo:function(t){var e=this;o.e({id:t}).then(function(t){e.info=t.body,e.loading=!1})},updateForm:function(t){var e=this;this.$refs.form.validate(function(t){t&&(e.loading=!0,o.i(e.info).then(function(t){e.loading=!1,200==t.code&&(e.successMessage("修改成功"),setTimeout(function(){e.routerLink("/rankList","list")},1e3))}))})},saveForm:function(t){var e=this;this.$refs.form.validate(function(n){n&&(e.loading=!0,o.a(e.info).then(function(n){e.loading=!1,200==n.code&&(e.successMessage("添加成功"),t?(e.moreInfo=!1,e.getInfo(0)):setTimeout(function(){e.routerLink("/rankList","list")},1e3))}).catch(function(t){e.errorMessage("执行异常"),e.loading=!1}))})},restForm:function(){this.$refs.form.resetFields(),this.getInfo(this.id)}},created:function(){this.getInfo(this.id)}}},Y5mU:function(t,e,n){e=t.exports=n("BkJT")(!1),e.push([t.i,"",""])},"cn+c":function(t,e,n){"use strict";function a(t){return Object(m.a)({url:p.a.getUserList,method:"post",data:t,signValidate:!0})}function o(t){return Object(m.a)({url:p.a.getUserInfo,method:"post",data:t,signValidate:!0})}function s(t){return Object(m.a)({url:p.a.addUserInfo,method:"post",data:t,nonceStr:!0,signValidate:!0})}function i(t){return Object(m.a)({url:p.a.updateUserInfo,method:"post",data:t,nonceStr:!0,signValidate:!0})}function r(t){return Object(m.a)({url:p.a.deleteUserInfo,method:"post",data:t,signValidate:!0})}function l(t){return Object(m.a)({url:p.a.getRankList,method:"post",data:t,signValidate:!0})}function c(t){return Object(m.a)({url:p.a.getRankInfo,method:"post",data:t,signValidate:!0})}function u(t){return Object(m.a)({url:p.a.addRankInfo,method:"post",data:t,nonceStr:!0,signValidate:!0})}function d(t){return Object(m.a)({url:p.a.updateRankInfo,method:"post",data:t,nonceStr:!0,signValidate:!0})}function f(t){return Object(m.a)({url:p.a.deleteRankInfo,method:"post",data:t,nonceStr:!0,signValidate:!0})}e.h=a,e.g=o,e.b=s,e.j=i,e.d=r,e.f=l,e.e=c,e.a=u,e.i=d,e.c=f;var m=n("yYIz"),p=n("z+6n")},i7MD:function(t,e,n){var a=n("Y5mU");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("8bSs")("3146b24a",a,!0)}});