webpackJsonp([68],{"+xf4":function(t,e,a){e=t.exports=a("BkJT")(!1),e.push([t.i,"",""])},"2zJ1":function(t,e,a){var n=a("+xf4");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("8bSs")("7b121cd0",n,!0)},Ddl7:function(t,e,a){"use strict";function n(t){a("2zJ1")}Object.defineProperty(e,"__esModule",{value:!0});var o=a("jinR"),i=a("ibl1"),s=a("46Yf"),r=n,l=s(o.a,i.a,!1,r,null,null);e.default=l.exports},ibl1:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"forum-module"},[a("div",{staticClass:"forum-header"},[a("span",{staticClass:"forum-name"},[t._v(t._s(t.$route.name))])]),t._v(" "),a("el-form",{ref:"form",staticClass:"table-body",attrs:{"label-width":"160px",model:t.info,rules:t.rules}},[a("el-row",{staticClass:"form-group"},[a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"用户名"}},[a("span",[t._v(t._s(t.info.username))])])],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{staticClass:"w192",model:{value:t.info.email,callback:function(e){t.$set(t.info,"email",e)},expression:"info.email"}})],1)],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{staticClass:"w192",attrs:{type:"password"},model:{value:t.info.password,callback:function(e){t.$set(t.info,"password",e)},expression:"info.password"}}),t._v(" "),a("label",{staticClass:"gray"},[t._v("不修改请留空")])],1)],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[a("el-input",{staticClass:"w192",attrs:{type:"password"},model:{value:t.info.checkPass,callback:function(e){t.$set(t.info,"checkPass",e)},expression:"info.checkPass"}}),t._v(" "),a("label",{staticClass:"gray"},[t._v("不修改请留空")])],1)],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"是否禁用"}},[a("el-switch",{attrs:{"active-text":"是","inactive-text":"否"},model:{value:t.info.disabled,callback:function(e){t.$set(t.info,"disabled",e)},expression:"info.disabled"}})],1)],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"只读管理员",required:!0}},[a("el-switch",{attrs:{"active-text":"是","inactive-text":"否"},model:{value:t.info.viewonlyAdmin,callback:function(e){t.$set(t.info,"viewonlyAdmin",e)},expression:"info.viewonlyAdmin"}})],1)],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24}},[a("el-form-item",{attrs:{label:"角色"}},[a("el-checkbox-group",{model:{value:t.selectRole,callback:function(e){t.selectRole=e},expression:"selectRole"}},t._l(t.roleItems,function(e,n){return a("el-checkbox",{key:e.id,attrs:{label:e.id}},[t._v("\n                             "+t._s(e.name)+"\n                               ")])}))],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"form-bottom-bar"},["update"==t.type?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.updateForm()}}},[t._v("提交")]):t._e(),t._v(" "),a("el-button",{attrs:{type:"info"},on:{click:function(e){t.restForm()}}},[t._v("重置")])],1)],1)},o=[],i={render:n,staticRenderFns:o};e.a=i},jinR:function(t,e,a){"use strict";var n=a("yEoQ"),o=a.n(n),i=a("simw"),s=a("FVK1");e.a={data:function(){var t=this,e=function(t,e,a){if(""===e)a();else{/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/.test(e)?a():a(new Error("请输入正确的邮箱地址"))}},a=function(e,a,n){""===a?n():(""!==t.info.checkPass&&t.$refs.form.validateField("checkPass"),n())},n=function(e,a,n){""===a?n():a!==t.info.password?n(new Error("两次输入密码不一致!")):n()};return{loading:!0,type:this.$route.query.type,id:this.$route.query.id,info:{},roleItems:[],selectRole:[],rules:{email:[{validator:e,trigger:"blur"},{required:!0,message:"请输入邮箱地址",trigger:"blur"}],password:[{validator:a,trigger:"blur"}],checkPass:[{validator:n,trigger:"blur"}]}}},methods:{getInfo:function(t){var e=this;o.a.all([i.n({id:t}),i.A()]).then(o.a.spread(function(t,a){e.info=t.body,e.info.password="",e.info.checkPass="",e.selectRole=s.b(t.body.roleIds),e.roleItems=a.body,e.loading=!1}))},updateForm:function(t){var e=this;this.$refs.form.validate(function(t){t&&(e.loading=!0,e.aesPwd(),i.C(e.info).then(function(t){e.loading=!1,200==t.code?(e.successMessage("修改成功"),setTimeout(function(){e.routerLink("/admin","list")},1e3)):(e.info.password="",e.info.checkPass="")}))})},restForm:function(){this.$refs.form.resetFields(),this.getInfo(this.id)},aesPwd:function(){this.info.password=s.a(this.info.password),this.info.checkPass=s.a(this.info.checkPass)}},watch:{selectRole:function(t,e){var a=t.join(",");this.info.roleIds=a}},created:function(){this.getInfo(this.id)}}},simw:function(t,e,a){"use strict";function n(t){return Object(q.a)({url:E.a.getAdminList,method:"post",data:t,signValidate:!0})}function o(t){return Object(q.a)({url:E.a.getAdminInfo,method:"post",data:t,signValidate:!0})}function i(t){return Object(q.a)({url:E.a.addAdminInfo,method:"post",data:t,signValidate:!0,nonceStr:!0})}function s(t){return Object(q.a)({url:E.a.deleteAdminInfo,method:"post",data:t,nonceStr:!0,signValidate:!0})}function r(t){return Object(q.a)({url:E.a.updateAdminInfo,method:"post",data:t,signValidate:!0})}function l(t){return Object(q.a)({url:E.a.getRoleList,method:"post",data:t,signValidate:!0})}function d(t){return Object(q.a)({url:E.a.getRoleInfo,method:"post",data:t,signValidate:!0})}function c(t){return Object(q.a)({url:E.a.addRoleInfo,method:"post",data:t,nonceStr:!0,signValidate:!0})}function u(t){return Object(q.a)({url:E.a.updateRoleInfo,method:"post",data:t,nonceStr:!0,signValidate:!0})}function f(t){return Object(q.a)({url:E.a.deleteRoleInfo,method:"post",data:t,signValidate:!0})}function m(t){return Object(q.a)({url:E.a.getCouponList,method:"post",data:t,signValidate:!0})}function p(t){return Object(q.a)({url:E.a.getCouponInfo,method:"post",data:t,signValidate:!0})}function g(t){return Object(q.a)({url:E.a.addCouponInfo,method:"post",data:t,signValidate:!0})}function b(t){return Object(q.a)({url:E.a.deleteCouponInfo,method:"post",data:t,signValidate:!0})}function h(t){return Object(q.a)({url:E.a.disabledCouponInfo,method:"post",data:t,nonceStr:!0,signValidate:!0})}function v(t){return Object(q.a)({url:E.a.getCustomerServiceList,method:"post",data:t,signValidate:!0})}function j(t){return Object(q.a)({url:E.a.getCustomerServiceInfo,method:"post",data:t,signValidate:!0})}function I(t){return Object(q.a)({url:E.a.addCustomerServiceInfo,method:"post",data:t,signValidate:!0})}function O(t){return Object(q.a)({url:E.a.updateCustomerServiceInfo,method:"post",data:t,signValidate:!0})}function V(t){return Object(q.a)({url:E.a.deleteCustomerServiceInfo,method:"post",data:t,signValidate:!0})}function w(t){return Object(q.a)({url:E.a.priorityCustomerServiceInfo,method:"post",data:t,signValidate:!0})}function _(t){return Object(q.a)({url:E.a.getPosterList,method:"post",data:t,signValidate:!0})}function x(t){return Object(q.a)({url:E.a.updatePosterInfo,method:"post",data:t,signValidate:!0})}function k(t){return Object(q.a)({url:E.a.getLogList,method:"post",data:t,signValidate:!0})}function y(t){return Object(q.a)({url:E.a.getAdspaceList,method:"post",data:t,signValidate:!0})}function C(t){return Object(q.a)({url:E.a.getAdspaceInfo,method:"post",data:t,signValidate:!0})}function A(t){return Object(q.a)({url:E.a.addAdspaceInfo,method:"post",data:t,signValidate:!0})}function P(t){return Object(q.a)({url:E.a.updateAdspaceInfo,method:"post",data:t,signValidate:!0})}function R(t){return Object(q.a)({url:E.a.deleteAdspaceInfo,method:"post",data:t,signValidate:!0})}function $(t){return Object(q.a)({url:E.a.getAdvertiseList,method:"post",data:t,signValidate:!0})}function S(t){return Object(q.a)({url:E.a.getAdvertiseInfo,method:"post",data:t,signValidate:!0})}function L(t){return Object(q.a)({url:E.a.addAdvertiseInfo,method:"post",data:t,signValidate:!0})}function F(t){return Object(q.a)({url:E.a.updateAdvertiseInfo,method:"post",data:t,signValidate:!0})}function z(t){return Object(q.a)({url:E.a.deleteAdvertiseInfo,method:"post",data:t,signValidate:!0})}e.o=n,e.n=o,e.a=i,e.g=s,e.C=r,e.A=l,e.z=d,e.f=c,e.H=u,e.l=f,e.u=m,e.t=p,e.d=g,e.j=b,e.m=h,e.w=v,e.v=j,e.e=I,e.F=O,e.k=V,e.B=w,e.y=_,e.G=x,e.x=k,e.q=y,e.p=C,e.b=A,e.D=P,e.h=R,e.s=$,e.r=S,e.c=L,e.E=F,e.i=z;var q=a("yYIz"),E=a("z+6n")}});