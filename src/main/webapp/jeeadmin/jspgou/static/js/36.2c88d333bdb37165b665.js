webpackJsonp([36],{"410H":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"forum-module"},[a("div",{staticClass:"forum-header"},[0==t.typeNum?a("span",{staticClass:"forum-name"},[t._v("站内信列表")]):t._e(),t._v(" "),1==t.typeNum?a("span",{staticClass:"forum-name"},[t._v("收件箱列表")]):t._e(),t._v(" "),2==t.typeNum?a("span",{staticClass:"forum-name"},[t._v("垃圾箱列表")]):t._e()]),t._v(" "),a("div",{staticClass:"table-top-bar clearfix"},[a("div",{staticClass:"query-inline-box"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.routerLink("/messageList/save","save",0)}}},[t._v("发送站内信")]),t._v(" "),a("el-button",{on:{click:t.getItems}},[t._v("站内信列表")]),t._v(" "),a("el-button",{on:{click:t.getReceivemessageList}},[t._v("收件箱")]),t._v(" "),a("el-button",{on:{click:t.getRecycleMessageList}},[t._v("垃圾箱")])],1)]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.items,stripe:""},on:{"selection-change":t.checkIds}},[a("el-table-column",{attrs:{type:"selection",align:"center",width:68}}),t._v(" "),a("el-table-column",{attrs:{label:"ID",prop:"id",align:"center",width:68}}),t._v(" "),a("el-table-column",{attrs:{label:"标题",prop:"msgTitle",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"内容",prop:"msgContent",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"收件人姓名",prop:"receiverUserName",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{staticClass:"t-edit",attrs:{title:"查看"},on:{click:function(a){t.routerLink("/messageList/update","update",e.row.id)}}}),t._v(" "),2==t.typeNum?a("a",{staticClass:"t-del",attrs:{title:"删除"},on:{click:function(a){t.deleteItems(e.row.id)}}}):t._e(),t._v(" "),1==t.typeNum||0==t.typeNum?a("a",{staticClass:"t-del",attrs:{title:"删除"},on:{click:function(a){t.removeItems(e.row.id)}}}):t._e()]}}])})],1),t._v(" "),a("div",{staticClass:"table-bottom-bar"},[a("div",{staticClass:"pull-left"},[2==t.typeNum?a("el-button",{attrs:{disabled:t.disabled},on:{click:function(e){t.deleteItems(t.ids)}}},[t._v("批量删除")]):t._e(),t._v(" "),1==t.typeNum||0==t.typeNum?a("el-button",{attrs:{disabled:t.disabled},on:{click:function(e){t.removeItems(t.ids)}}},[t._v("批量移除")]):t._e(),t._v(" "),a("span",{staticClass:"ml-48"},[t._v("每页显示\n                  "),a("el-input",{staticClass:"input-sm",attrs:{type:"number",min:"1",max:"50"},on:{blur:t.changeSize},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.changeSize(e)}},model:{value:t.pagination.changePageSize,callback:function(e){t.$set(t.pagination,"changePageSize",e)},expression:"pagination.changePageSize"}}),t._v("\n                   条,输入后按回车\n                   ")],1)],1),t._v(" "),a("div",{staticClass:"pull-right"},[a("el-pagination",{attrs:{layout:"total, prev, pager, next",total:t.pagination.total,"page-size":t.params.pageSize,"current-page":t.pagination.currentPage},on:{"update:currentPage":function(e){t.$set(t.pagination,"currentPage",e)},"current-change":t.getPage,"size-change":t.getSize}})],1)])],1)},s=[],n={render:i,staticRenderFns:s};e.a=n},JSIT:function(t,e,a){var i=a("e8He");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("8bSs")("d3d734cc",i,!0)},RFfY:function(t,e,a){"use strict";var i=a("Tw8E");e.a={data:function(){return{loading:!0,items:[],ids:"",typeNum:1,params:{pageNo:1,pageSize:10,username:""},disabled:!0,pagination:{total:0,currentPage:1,changePageSize:localStorage.getItem("PageSize")}}},methods:{getItems:function(){var t=this;i.n(this.params).then(function(e){t.typeNum=0,t.pagination.total=e.totalCount,t.items=e.body,t.loading=!1})},getReceivemessageList:function(){var t=this;this.loading=!0,this.typeNum=1,this.params.pageNo=1,i.o(this.params).then(function(e){t.pagination.total=e.totalCount,t.items=e.body,t.loading=!1})},getRecycleMessageList:function(){var t=this;this.typeNum=2,this.loading=!0,this.params.pageNo=1,i.p(this.params).then(function(e){t.pagination.total=e.totalCount,t.items=e.body,t.loading=!1})},removeItems:function(t){var e=this;this.$confirm("确定要删除至垃圾箱吗?","警告",{type:"error"}).then(function(a){i.q({ids:t}).then(function(t){200==t.code&&(e.successMessage("删除成功"),0==e.typeNum?e.getItems():e.getReceivemessageList())})}).catch(function(t){})},deleteItems:function(t){var e=this;this.$confirm("此操作将删除站内信, 确定要删除吗?","警告",{type:"error"}).then(function(a){i.f({ids:t}).then(function(t){200==t.code&&e.successMessage("删除成功"),e.getRecycleMessageList()})}).catch(function(t){})},checkIds:function(t){for(var e=[],a=0;a<t.length;a++)e.push(t[a].id);0==e.length?(this.ids="",this.disabled=!0):(this.ids=e.join(","),this.disabled=!1)},query:function(){this.getItems()},getPage:function(t){this.loading=!0,this.params.pageNo=t,0==this.typeNum?this.getItems():1==this.typeNum?this.getReceivemessageList():2==this.typeNum&&this.getRecycleMessageList()},getSize:function(t){this.loading=!0,this.params.pageNo=t,0==this.typeNum?this.getItems():1==this.typeNum?this.getReceivemessageList():2==this.typeNum&&this.getRecycleMessageList()},changeSize:function(t){var e=t.target.value;e<1?(localStorage.setItem("PageSize",15),e=15):localStorage.setItem("PageSize",e),this.loading=!0,this.params.pageSize=parseInt(e),this.params.pageNo=1,this.pagination.currentPage=1,0==this.typeNum?this.getItems():1==this.typeNum?this.getReceivemessageList():2==this.typeNum&&this.getRecycleMessageList()},getLocalPage:function(){var t=localStorage.getItem("PageSize");null!=t?this.params.pageSize=parseInt(t):this.changePageSize=20,0==this.typeNum?this.getItems():1==this.typeNum?this.getReceivemessageList():2==this.typeNum&&this.getRecycleMessageList()}},created:function(){this.getLocalPage()}}},Tw8E:function(t,e,a){"use strict";function i(t){return Object(L.a)({url:S.a.getDictList,method:"post",data:t,signValidate:!0})}function s(t){return Object(L.a)({url:S.a.getDictInfo,method:"post",data:t,signValidate:!0})}function n(t){return Object(L.a)({url:S.a.addDictInfo,method:"post",data:t,signValidate:!0})}function o(t){return Object(L.a)({url:S.a.updateDictInfo,method:"post",data:t,signValidate:!0})}function c(t){return Object(L.a)({url:S.a.deleteDictInfo,method:"post",data:t,signValidate:!0})}function l(t){return Object(L.a)({url:S.a.priorityDictInfo,method:"post",data:t,signValidate:!0})}function r(t){return Object(L.a)({url:S.a.getDictTypeList,method:"post",data:t,signValidate:!0})}function u(t){return Object(L.a)({url:S.a.getDictTypeInfo,method:"post",data:t,signValidate:!0})}function g(t){return Object(L.a)({url:S.a.addDictTypeInfo,method:"post",data:t,signValidate:!0})}function d(t){return Object(L.a)({url:S.a.updateDictTypeInfo,method:"post",data:t,signValidate:!0})}function p(t){return Object(L.a)({url:S.a.deleteDictTypeInfo,method:"post",data:t,signValidate:!0})}function m(t){return Object(L.a)({url:S.a.getDictTypeAll,method:"post",data:t,signValidate:!0})}function h(t){return Object(L.a)({url:S.a.getDictTypeId,method:"post",data:t,signValidate:!0})}function f(t){return Object(L.a)({url:S.a.getMessageList,method:"post",data:t,signValidate:!0})}function v(t){return Object(L.a)({url:S.a.getReceivemessageList,method:"post",data:t,signValidate:!0})}function y(t){return Object(L.a)({url:S.a.getRecycleMessageList,method:"post",data:t,signValidate:!0})}function b(t){return Object(L.a)({url:S.a.getRemoveMessageList,method:"post",data:t,signValidate:!0})}function _(t){return Object(L.a)({url:S.a.addMessageInfo,method:"post",data:t,signValidate:!0})}function I(t){return Object(L.a)({url:S.a.getMessageInfo,method:"post",data:t,signValidate:!0})}function N(t){return Object(L.a)({url:S.a.deleteMessageList,method:"post",data:t,signValidate:!0})}e.h=i,e.g=s,e.a=n,e.s=o,e.d=c,e.r=l,e.l=r,e.k=u,e.b=g,e.t=d,e.e=p,e.i=m,e.j=h,e.n=f,e.o=v,e.p=y,e.q=b,e.c=_,e.m=I,e.f=N;var L=a("yYIz"),S=a("z+6n")},e8He:function(t,e,a){e=t.exports=a("BkJT")(!1),e.push([t.i,"",""])},nydO:function(t,e,a){"use strict";function i(t){a("JSIT")}Object.defineProperty(e,"__esModule",{value:!0});var s=a("RFfY"),n=a("410H"),o=a("/Xao"),c=i,l=o(s.a,n.a,!1,c,null,null);e.default=l.exports}});