webpackJsonp([7],{"3avO":function(t,e,a){"use strict";function n(t){a("IIeT")}Object.defineProperty(e,"__esModule",{value:!0});var o=a("r3zW"),i=a("YbX/"),s=a("/Xao"),r=n,d=s(o.a,i.a,!1,r,null,null);e.default=d.exports},IIeT:function(t,e,a){var n=a("rybU");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("8bSs")("73cbba2a",n,!0)},Mlkw:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"gou-upload",staticStyle:{position:"relative"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:this.$store.state.sys.upLoadUrl,name:"uploadFile",data:t.upload.data,"show-file-list":!1,"on-success":t.handleAvatarSuccess,"on-progress":t.handleAvatarProgress}},[t.upload.uploading?a("div",{staticClass:"uploading"},[a("el-progress",{attrs:{type:"circle",percentage:t.upload.percent}})],1):t._e(),t._v(" "),t.upload.imageUrl?a("div",{staticClass:"upload-hover-box"},[a("img",{staticClass:"avatar",attrs:{src:t.upload.imageUrl}}),t._v(" "),t.upload.imageUrl?a("span",{staticClass:"upload-cover"},[t._v("点击修改图片")]):t._e()]):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),t._v(" "),t.upload.imageUrl?a("i",{staticClass:"iconfont bbs-delete pos-del",attrs:{title:"删除"},on:{click:function(e){e.preventDefault(),t.delImg(e)}}}):t._e()],1)},o=[],i={render:n,staticRenderFns:o};e.a=i},NZkp:function(t,e,a){"use strict";var n=a("2RFS"),o=a("s4F+");e.a={name:"imageUpload",props:{path:{type:String,default:""},index:{type:Number,default:0}},data:function(){var t=Object(n.a)();return{upload:{url:this.$store.state.sys.baseUrl,imageUrl:"",uploading:!1,percent:0,data:Object(o.a)({appId:this.$store.state.sys.appId,sessionKey:localStorage.getItem("sessionKey"),type:"image",nonceStr:t},this.$store.state.sys.appKey)}}},methods:{handleAvatarSuccess:function(t,e){this.upload.uploading=!1,this.upload.percent=0,200==t.code?(this.upload.imageUrl=URL.createObjectURL(e.raw),this.$emit("getPath",t.body.url,this.index)):209==t.code?(this.errorMessage("无上传权限"),this.$emit("getPath","",this.index)):(this.errorMessage("上传失败，请检查文件类型"),this.$emit("getPath","",this.index))},handleAvatarProgress:function(t,e,a){this.upload.uploading=!0,this.upload.percent=parseInt(t.percent)},delImg:function(){this.upload.imageUrl="",this.$emit("getPath","",this.index)}},created:function(){""==this.path||null==this.path?this.upload.imageUrl="":this.path.indexOf("http://")>=0?this.upload.imageUrl=this.path:this.upload.imageUrl=this.upload.url+this.path},watch:{path:function(t,e){""==this.path||null==this.path?this.upload.imageUrl="":this.upload.imageUrl=this.upload.url+this.path}}}},T9Ip:function(t,e,a){var n=a("kIg/");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("8bSs")("0582fcd4",n,!0)},Uwrw:function(t,e,a){"use strict";function n(t){a("T9Ip")}var o=a("NZkp"),i=a("Mlkw"),s=a("/Xao"),r=n,d=s(o.a,i.a,!1,r,"data-v-ced38416",null);e.a=d.exports},"YbX/":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"forum-module"},[a("div",{staticClass:"forum-header"},[a("span",{staticClass:"forum-name"},[t._v(t._s(t.$route.name))]),t._v(" "),a("div",{staticClass:"pull-right"},[a("el-button",{staticClass:"back",on:{click:function(e){t.routerLink("/brandList","list")}}},[t._v("返回列表")])],1)]),t._v(" "),a("el-form",{ref:"form",staticClass:"table-body",attrs:{"label-width":"160px",model:t.info,rules:t.rules}},[a("el-row",{staticClass:"form-group"},[a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"品牌名称",prop:"name"}},[a("el-input",{staticClass:"w192",model:{value:t.info.name,callback:function(e){t.$set(t.info,"name",e)},expression:"info.name"}})],1)],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"品牌类型",required:!0}},[a("el-select",{staticClass:"w192",attrs:{filterable:"",placeholder:"请选择"},model:{value:t.info.categoryId,callback:function(e){t.$set(t.info,"categoryId",e)},expression:"info.categoryId"}},[a("el-option",{attrs:{label:"根目录",value:0}}),t._v(" "),t._l(t.categoryIdList,function(e){return a("el-option",{key:e.id,attrs:{label:e.categoryName,value:e.id}},[e.leval>1?a("span",{style:{paddingLeft:10*e.leval+"px"}},[t._v(">"+t._s(e.categoryName))]):a("span",{style:{paddingLeft:10*e.leval+"px"}},[t._v(t._s(e.categoryName))])])})],2)],1)],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"品牌简称"}},[a("el-input",{staticClass:"w192",model:{value:t.info.alias,callback:function(e){t.$set(t.info,"alias",e)},expression:"info.alias"}})],1)],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"官方网址"}},[a("el-input",{staticClass:"w192",model:{value:t.info.webUrl,callback:function(e){t.$set(t.info,"webUrl",e)},expression:"info.webUrl"}})],1)],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"精选品牌"}},[a("el-radio",{attrs:{label:!0},model:{value:t.info.sift,callback:function(e){t.$set(t.info,"sift",e)},expression:"info.sift"}},[t._v("是")]),t._v(" "),a("el-radio",{attrs:{label:!1},model:{value:t.info.sift,callback:function(e){t.$set(t.info,"sift",e)},expression:"info.sift"}},[t._v("否")])],1)],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"是否禁用"}},[a("el-radio",{attrs:{label:!0},model:{value:t.info.disabled,callback:function(e){t.$set(t.info,"disabled",e)},expression:"info.disabled"}},[t._v("是")]),t._v(" "),a("el-radio",{attrs:{label:!1},model:{value:t.info.disabled,callback:function(e){t.$set(t.info,"disabled",e)},expression:"info.disabled"}},[t._v("否")])],1)],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24}},[a("el-form-item",{attrs:{label:"品牌图片",prop:"username"}},[a("imageUpload",{attrs:{path:t.imagePath},on:{getPath:t.getPath}})],1)],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24}},[a("el-col",{staticClass:"border-none",attrs:{span:12}},[a("el-form-item",{attrs:{label:"排序",prop:"priority"}},[a("el-input",{staticClass:"w192",model:{value:t.info.priority,callback:function(e){t.$set(t.info,"priority",t._n(e))},expression:"info.priority"}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24}},[a("el-form-item",{attrs:{label:"品牌故事"}},[a("VueUEditor",{on:{ready:t.editorReady}})],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"form-bottom-bar"},["save"==t.type?a("el-button",{attrs:{type:"warning"},on:{click:function(e){t.saveForm(!0)}}},[t._v("提交并继续添加")]):t._e(),t._v(" "),"save"==t.type?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.saveForm(!1)}}},[t._v("添加")]):t._e(),t._v(" "),"update"==t.type?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.updateForm()}}},[t._v("修改")]):t._e(),t._v(" "),a("el-button",{attrs:{type:"info"},on:{click:function(e){t.restForm()}}},[t._v("重置")]),t._v(" "),"save"==t.type?a("div",{staticClass:"help-info"},[t._v("选择“提交并继续添加”按钮会停留在添加页面；选择“添加”按钮后将跳转到对应的列表页。")]):t._e()],1)],1)},o=[],i={render:n,staticRenderFns:o};e.a=i},b1Wg:function(t,e,a){"use strict";var n=a("xeux"),o=a("oGsl"),i=a("/Xao"),s=i(n.a,o.a,!1,null,null,null);e.a=s.exports},"kIg/":function(t,e,a){e=t.exports=a("BkJT")(!1),e.push([t.i,".gou-upload[data-v-ced38416]{width:178px}.pos-del[data-v-ced38416]{position:absolute;width:45px;height:45px;color:#fff;cursor:pointer;top:0;right:0;font-size:25px;display:none;z-index:15;text-align:center}.gou-upload:hover .pos-del[data-v-ced38416],.gou-upload:hover .upload-cover[data-v-ced38416]{display:block}",""])},oGsl:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement;return(t._self._c||e)("script",{attrs:{id:t.randomId,name:"content",type:"text/plain"}})},o=[],i={render:n,staticRenderFns:o};e.a=i},r3zW:function(t,e,a){"use strict";var n=a("b1Wg"),o=a("Uwrw"),i=a("wc4o");e.a={components:{VueUEditor:n.a,imageUpload:o.a},data:function(){return{loading:!0,type:this.$route.query.type,id:this.$route.query.id,info:{},categoryIdList:[],UE:"",imagePath:"",rules:{name:[{required:!0,message:"请输入分类名",trigger:"blur"}],path:[{required:!0,message:"请输入路径",trigger:"blur"}],priority:[{required:!0,message:"请输入排序",type:"number",trigger:"blur"}]}}},methods:{getInfo:function(t){var e=this;i.p({id:t}).then(function(t){e.info=t.body,e.loading=!1,e.imagePath=t.body.logoPath,e.UE.setContent(e.info.text),i.s().then(function(t){e.categoryIdList=t.body})})},updateForm:function(){var t=this;this.$refs.form.validate(function(e){e&&(t.loading=!0,t.info.text=t.UE.getContent(),i.R(t.info).then(function(e){t.loading=!1,200==e.code&&(t.successMessage("修改成功"),setTimeout(function(){t.routerLink("/brandList","list")},1e3))}))})},saveForm:function(t){var e=this;this.$refs.form.validate(function(a){a&&(e.loading=!0,e.info.text=e.UE.getContent(),i.a(e.info).then(function(a){e.loading=!1,200==a.code&&(e.successMessage("添加成功"),t?(e.imagePath="",e.getInfo(e.id)):setTimeout(function(){e.routerLink("/brandList","list")},1e3))}))})},restForm:function(){this.$refs.form.resetFields(),this.getInfo(0)},getPath:function(t){this.info.logoPath=t},editorReady:function(t){this.UE=t}},created:function(){this.getInfo(this.id)}}},rybU:function(t,e,a){e=t.exports=a("BkJT")(!1),e.push([t.i,"",""])},wc4o:function(t,e,a){"use strict";function n(t){return Object(Q.a)({url:tt.a.getProductList,method:"post",data:t,nonceStr:!0,signValidate:!0})}function o(t){return Object(Q.a)({url:tt.a.getProductInfo,method:"post",data:t,nonceStr:!0,signValidate:!0})}function i(t){return Object(Q.a)({url:tt.a.getBrandListByCategoryId,method:"post",data:t,nonceStr:!0,signValidate:!0})}function s(t){return Object(Q.a)({url:tt.a.addProductList,method:"post",data:t,nonceStr:!0,signValidate:!0})}function r(t){return Object(Q.a)({url:tt.a.updateProductList,method:"post",data:t,nonceStr:!0,signValidate:!0})}function d(t){return Object(Q.a)({url:tt.a.deleteProductList,method:"post",data:t,nonceStr:!0,signValidate:!0})}function l(t){return Object(Q.a)({url:tt.a.getCommodityCategoryTree,method:"post",data:t,signValidate:!0})}function c(t){return Object(Q.a)({url:tt.a.getCommodityCategoryList,method:"post",data:t,signValidate:!0})}function u(t){return Object(Q.a)({url:tt.a.getCommodityCategoryInfo,method:"post",data:t,signValidate:!0})}function p(t){return Object(Q.a)({url:tt.a.getHotList,method:"post",data:t,signValidate:!0})}function f(t){return Object(Q.a)({url:tt.a.getSaleChatList,method:"post",data:t,signValidate:!0})}function g(t){return Object(Q.a)({url:tt.a.addCommodityCategoryInfo,method:"post",data:t,nonceStr:!0,signValidate:!0})}function m(t){return Object(Q.a)({url:tt.a.updateCommodityCategoryInfo,method:"post",data:t,nonceStr:!0,signValidate:!0})}function h(t){return Object(Q.a)({url:tt.a.getCommodityTopCategory,method:"post",data:t,signValidate:!0})}function b(t){return Object(Q.a)({url:tt.a.getCommodityTemplate,method:"post",data:t,signValidate:!0})}function y(t){return Object(Q.a)({url:tt.a.getCommodityBrand,method:"post",nonceStr:!0,data:t,signValidate:!0})}function v(t){return Object(Q.a)({url:tt.a.getCommodityStandardType,method:"post",nonceStr:!0,data:t,signValidate:!0})}function I(t){return Object(Q.a)({url:tt.a.getBrandList,method:"post",nonceStr:!0,data:t,signValidate:!0})}function S(t){return Object(Q.a)({url:tt.a.getBrandInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function j(t){return Object(Q.a)({url:tt.a.getBrandTypeInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function C(t){return Object(Q.a)({url:tt.a.addBrandInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function O(t){return Object(Q.a)({url:tt.a.updateBrandInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function _(t){return Object(Q.a)({url:tt.a.deleteBrandInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function x(t){return Object(Q.a)({url:tt.a.priorityBrandInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function V(t){return Object(Q.a)({url:tt.a.deleteCommodityCategoryInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function w(t){return Object(Q.a)({url:tt.a.priorityCommodityCategoryInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function U(t){return Object(Q.a)({url:tt.a.getStandardList,method:"post",nonceStr:!0,data:t,signValidate:!0})}function T(t){return Object(Q.a)({url:tt.a.getStandardInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function E(t){return Object(Q.a)({url:tt.a.addStandardInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function $(t){return Object(Q.a)({url:tt.a.updateStandardInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function k(t){return Object(Q.a)({url:tt.a.deleteStandardInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function L(t){return Object(Q.a)({url:tt.a.priorityStandardInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function P(t){return Object(Q.a)({url:tt.a.getTypeInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function B(t){return Object(Q.a)({url:tt.a.addTypeInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function M(t){return Object(Q.a)({url:tt.a.updateTypeInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function F(t){return Object(Q.a)({url:tt.a.deleteTypeInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function K(t){return Object(Q.a)({url:tt.a.getModelList,method:"post",nonceStr:!0,data:t,signValidate:!0})}function R(t){return Object(Q.a)({url:tt.a.getModelListAll,method:"post",nonceStr:!0,data:t,signValidate:!0})}function N(t){return Object(Q.a)({url:tt.a.getModelInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function A(t){return Object(Q.a)({url:tt.a.getConsultList,method:"post",nonceStr:!0,data:t,signValidate:!0})}function D(t){return Object(Q.a)({url:tt.a.getConsultInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function q(t){return Object(Q.a)({url:tt.a.updateConsultInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function z(t){return Object(Q.a)({url:tt.a.deleteConsultInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function X(t){return Object(Q.a)({url:tt.a.getDiscussList,method:"post",nonceStr:!0,data:t,signValidate:!0})}function W(t){return Object(Q.a)({url:tt.a.getDiscussInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function G(t){return Object(Q.a)({url:tt.a.updateDiscussInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function J(t){return Object(Q.a)({url:tt.a.deleteDiscussInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function Y(t){return Object(Q.a)({url:tt.a.addDefaultTypeProperty,method:"post",nonceStr:!0,data:t,signValidate:!0})}function H(t){return Object(Q.a)({url:tt.a.addTypePropertyContent,method:"post",nonceStr:!0,data:t,signValidate:!0})}function Z(t){return Object(Q.a)({url:tt.a.deleteTypePropertyContent,method:"post",nonceStr:!0,data:t,signValidate:!0})}e.J=n,e.I=o,e.r=i,e.d=s,e.V=r,e.l=d,e.w=l,e.v=c,e.u=u,e.E=p,e.K=f,e.b=g,e.S=m,e.z=h,e.y=b,e.t=y,e.x=v,e.q=I,e.p=S,e.s=j,e.a=C,e.R=O,e.h=_,e.O=x,e.i=V,e.P=w,e.M=U,e.L=T,e.e=E,e.W=$,e.m=k,e.Q=L,e.N=P,e.f=B,e.X=M,e.n=F,e.G=K,e.H=R,e.F=N,e.B=A,e.A=D,e.T=q,e.j=z,e.D=X,e.C=W,e.U=G,e.k=J,e.c=Y,e.g=H,e.o=Z;var Q=a("yYIz"),tt=a("z+6n")},xeux:function(t,e,a){"use strict";e.a={name:"VueUEditor",props:{ueditorPath:{type:String,default:"./static/ueditor/"},defaultMsg:{type:String,default:""},ueditorConfig:{type:Object,default:function(){return{}}},index:{default:0}},data:function(){return{randomId:"editor_"+1e4*Math.random(),instance:null,scriptTagStatus:0,appId:this.$store.state.sys.appId}},created:function(){void 0!==window.UE?(this.scriptTagStatus=2,this.initEditor()):this.insertScriptTag()},mounted:function(){},beforeDestroy:function(){null!==this.instance&&this.instance.destroy&&this.instance.destroy()},watch:{defaultMsg:function(t,e){this.instance=window.UE.getEditor(this.randomId,this.ueditorConfig),null!==t&&this.instance.ready(function(){this.setContent(t)})}},methods:{insertScriptTag:function(){var t=this,e=document.getElementById("editorScriptTag"),a=document.getElementById("configScriptTag");if(null===e){a=document.createElement("script"),a.type="text/javascript",a.src=this.ueditorPath+"ueditor.config.js",a.id="configScriptTag",e=document.createElement("script"),e.type="text/javascript",e.src=this.ueditorPath+"ueditor.all.js",e.id="editorScriptTag";var n=document.getElementsByTagName("head")[0];n.appendChild(a),n.appendChild(e)}a.loaded?this.scriptTagStatus++:a.addEventListener("load",function(){t.scriptTagStatus++,a.loaded=!0,t.initEditor()}),e.loaded?this.scriptTagStatus++:e.addEventListener("load",function(){t.scriptTagStatus++,e.loaded=!0,t.initEditor()}),this.initEditor()},getUEContent:function(){return this.instance.getContent()},initEditor:function(){var t=this,e=this;2===this.scriptTagStatus&&null===this.instance&&this.$nextTick(function(){t.instance=window.UE.getEditor(t.randomId,t.ueditorConfig),t.instance.addListener("ready",function(){window.UE.Editor.prototype._bkGetActionUrl=window.UE.Editor.prototype.getActionUrl,window.UE.Editor.prototype.getActionUrl=function(t){return"uploadimage"==t?"http://192.168.0.173:8080/jeecmsv9/api/admin/ueditor/upload?sessionKey=41e913c000de6b32c2bfb9ab98d67ab5f2377b7c2b605d9c599a688f3bfdd189454b68b238d570cf5b0ad835c5710337&appId=1580387213331704":"uploadvideo"==t?"http://192.168.0.199:12000/newjspgou/api/admin/ueditor/upload?sessionKey="+localStorage.getItem("sessionKey")+"&appId="+e.$store.state.sys.appId:"uploadfile"==t?"http://192.168.0.199:12000/newjspgou/api/admin/ueditor/upload?sessionKey="+localStorage.getItem("sessionKey")+"&appId="+e.$store.state.sys.appId:"catchimage"==t?"http://192.168.0.199:12000/newjspgou/api/admin/ueditor/getRemoteImage?sessionKey="+localStorage.getItem("sessionKey")+"&appId="+e.$store.state.sys.appId:"uploadscrawl"==t?"http://192.168.0.199:12000/newjspgou/api/admin//ueditor/scrawlImage?Type=Image&sessionKey="+localStorage.getItem("sessionKey")+"&appId="+e.$store.state.sys.appId:"listimage"==t||"listfile"==t?"http://192.168.0.199:12000/newjspgou/api/admin/ueditor/imageManager?picNum=50&insite=false&sessionKey="+localStorage.getItem("sessionKey")+"&appId="+e.$store.state.sys.appId:"config"==t?"/static/ueditor/config.json":void 0},t.$emit("ready",t.instance,t.index),t.instance.setContent(t.defaultMsg)})})}}}}});