webpackJsonp([0],{"0Ws9":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-button",{on:{click:function(e){t.centerDialogVisible=!0}}},[t._v("开启规格")]),t._v(" "),a("span",{staticClass:"gray"},[t._v("选择修改规格后，属性组合将会重置，请选择好规格组合后，再填入产品信息")]),t._v(" "),a("el-dialog",{attrs:{title:"选择规格",visible:t.centerDialogVisible,width:"70%",center:""},on:{"update:visible":function(e){t.centerDialogVisible=e}}},[a("el-tabs",{attrs:{type:"card"}},t._l(t.standardTypeItems,function(e,i){return a("el-tab-pane",{key:i,attrs:{label:e.name}},[e.dataType?a("div",[a("el-checkbox-group",{on:{change:t.getImgId},model:{value:t.checkGroup[i].check,callback:function(e){t.$set(t.checkGroup[i],"check",e)},expression:"checkGroup[index].check"}},t._l(e.standard,function(e,i){return a("el-checkbox",{key:i,attrs:{label:e.standardId}},[t._v("\n                    "+t._s(e.standardName)+"\n                ")])}))],1):a("div",[a("el-checkbox-group",{model:{value:t.checkGroup[i].check,callback:function(e){t.$set(t.checkGroup[i],"check",e)},expression:"checkGroup[index].check"}},t._l(e.standard,function(e,i){return a("el-checkbox",{key:i,attrs:{label:e.standardId}},[t._v("\n                        "+t._s(e.standardName)+"\n                    ")])}))],1)])}))],1),t._v(" "),t._l(t.checkGroup,function(e,i){return e.check.length>0&&!e.dataType?a("div",{key:i},[a("label",[t._v(t._s(e.label))]),t._v(" "),a("el-checkbox-group",{model:{value:t.checkGroup[i].check,callback:function(e){t.$set(t.checkGroup[i],"check",e)},expression:"checkGroup[index].check"}},t._l(t.checkStandardList[i],function(e,i){return a("el-checkbox",{key:i,attrs:{label:e.standardId}},[t._v("\n                             "+t._s(e.standardName)+"\n                         ")])}))],1):e.check.length>0&&e.dataType?a("div",[a("label",[t._v(t._s(e.label))]),t._v(" "),a("div",[a("el-checkbox-group",{model:{value:t.checkGroup[i].check,callback:function(e){t.$set(t.checkGroup[i],"check",e)},expression:"checkGroup[index].check"}},[a("div",{staticClass:"flex-image"},t._l(t.checkStandardList[i],function(e,i){return a("div",{key:i,staticClass:"flex-image-items"},[a("imageUpload",{staticClass:"pos-image",attrs:{index:i,path:t.dataArr.colorImg[i]},on:{getPath:t.getPath}}),t._v(" "),a("el-checkbox",{staticClass:"pos-check",attrs:{label:e.standardId},on:{change:function(e){t.changeCoverImg(i)}}},[t._v("\n                                                                     \n                                         ")]),t._v(" "),a("p",{staticStyle:{color:"#000","font-size":"14px"}},[t._v(" "+t._s(e.standardName))])],1)}))])],1)]):t._e()}),t._v(" "),a("table",{staticClass:"compent-table"},[t.checkState?a("tr",[t.checkState?a("th",[t._v("默认款式")]):t._e(),t._v(" "),t._l(t.checkGroup,function(e,i){return e.check.length>0?a("th",{key:i},[t._v(t._s(e.label))]):t._e()}),t._v(" "),t.checkState?a("th",[t._v("商品库存")]):t._e(),t._v(" "),t.checkState?a("th",[t._v("销售价")]):t._e(),t._v(" "),t.checkState?a("th",[t._v("市场价")]):t._e(),t._v(" "),t.checkState?a("th",[t._v("成本价")]):t._e(),t._v(" "),t.checkState?a("th",[t._v("操作")]):t._e()],2):t._e(),t._v(" "),t._l(t.tableList,function(e,i){return a("tr",{key:i},[a("td",{staticStyle:{"text-align":"left"}},[a("el-radio",{attrs:{label:!0},nativeOn:{click:function(e){t.getDefaults(i)}},model:{value:t.dataArr.isDefaults[i],callback:function(e){t.$set(t.dataArr.isDefaults,i,e)},expression:"dataArr.isDefaults[index3]"}},[t._v(" ")])],1),t._v(" "),t._l(e,function(e,i){return i%2!=0?a("td",{key:i},[t._v(t._s(e))]):t._e()}),t._v(" "),a("td",[a("el-input",{attrs:{type:"number",min:"0"},model:{value:t.dataArr.stockCounts[i],callback:function(e){t.$set(t.dataArr.stockCounts,i,t._n(e))},expression:"dataArr.stockCounts[index3]"}})],1),t._v(" "),a("td",[a("el-input",{attrs:{type:"number",min:"0"},model:{value:t.dataArr.salePrices[i],callback:function(e){t.$set(t.dataArr.salePrices,i,t._n(e))},expression:"dataArr.salePrices[index3]"}})],1),t._v(" "),a("td",[a("el-input",{attrs:{type:"number",min:"0"},model:{value:t.dataArr.marketPrices[i],callback:function(e){t.$set(t.dataArr.marketPrices,i,t._n(e))},expression:"dataArr.marketPrices[index3]"}})],1),t._v(" "),a("td",[a("el-input",{attrs:{type:"number",min:"0"},model:{value:t.dataArr.costPrices[i],callback:function(e){t.$set(t.dataArr.costPrices,i,t._n(e))},expression:"dataArr.costPrices[index3]"}})],1),t._v(" "),a("td",[a("span",{staticClass:"iconfont bbs-delete",on:{click:function(e){t.deleteInfoItems(i)}}})])],2)})],2),t._v(" "),a("div")],2)},r=[],n={render:i,staticRenderFns:r};e.a=n},"278Y":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"forum-module"},[a("div",{staticClass:"forum-header"},[a("span",{staticClass:"forum-name"},[t._v(t._s(t.$route.name))]),t._v(" "),a("div",{staticClass:"pull-right"},[a("el-button",{staticClass:"back",on:{click:function(e){t.routerLink("/productList","list")}}},[t._v("返回列表")])],1)]),t._v(" "),a("el-form",{ref:"form",staticClass:"table-body",attrs:{"label-width":"160px",model:t.info,rules:t.rules}},[a("el-row",{staticClass:"form-group dynamic-layout "},t._l(t.modelInfo,function(e,i){return"tagIds"!=e.field&&"coverImg"!=e.field?a("el-col",{key:e.id,class:[e.single?"flex-100":"flex-50"]},["name"==e.field?a("el-form-item",{attrs:{label:e.propertyName,prop:e.field}},[a("el-input",{staticClass:"w192",attrs:{maxlength:25},model:{value:t.info[e.field],callback:function(a){t.$set(t.info,e.field,a)},expression:"info[model.field]"}})],1):t._e(),t._v(" "),"categoryId"==e.field?a("el-form-item",{attrs:{label:e.propertyName,prop:e.field}},["categoryId"==e.field?a("span",[t._v(t._s(t.$route.query.categoryName))]):t._e()]):t._e(),t._v(" "),"brandId"==e.field?a("el-form-item",{attrs:{label:e.propertyName,prop:e.field}},[a("el-select",{staticClass:"w192",attrs:{filterable:"",placeholder:"请选择品牌"},model:{value:t.info[e.field],callback:function(a){t.$set(t.info,e.field,a)},expression:"info[model.field]"}},t._l(t.brandList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1):t._e(),t._v(" "),"price"!=e.field||t.typeInfo.colorsize?t._e():a("el-form-item",{attrs:{label:e.propertyName,prop:e.field}},[a("div",{staticClass:"price-group"},[a("label",{attrs:{for:""}},[t._v("销售价: ")]),t._v(" "),a("el-input",{staticClass:"w-50",model:{value:t.info.salePrice,callback:function(e){t.$set(t.info,"salePrice",e)},expression:"info.salePrice"}})],1),t._v(" "),a("div",{staticClass:"price-group"},[a("label",{attrs:{for:""}},[t._v("市场价: ")]),t._v(" "),a("el-input",{staticClass:"w-50",model:{value:t.info.marketPrice,callback:function(e){t.$set(t.info,"marketPrice",e)},expression:"info.marketPrice"}})],1),t._v(" "),a("div",{staticClass:"price-group"},[a("label",{attrs:{for:""}},[t._v("成本价: ")]),t._v(" "),a("el-input",{staticClass:"w-50",model:{value:t.info.costPrice,callback:function(e){t.$set(t.info,"costPrice",t._n(e))},expression:"info.costPrice"}})],1)]),t._v(" "),"stockCount"!=e.field||t.typeInfo.colorsize?t._e():a("el-form-item",{attrs:{label:e.propertyName,prop:e.field}},[a("el-input",{staticClass:"w192",model:{value:t.info[e.field],callback:function(a){t.$set(t.info,e.field,a)},expression:"info[model.field]"}})],1),t._v(" "),"weight"==e.field?a("el-form-item",{attrs:{label:e.propertyName,prop:e.field}},[a("el-input",{staticClass:"w192",model:{value:t.info[e.field],callback:function(a){t.$set(t.info,e.field,a)},expression:"info[model.field]"}}),t._v(" "),a("span",{staticClass:"gray"},[t._v("克(g)")])],1):t._e(),t._v(" "),"attr"==e.field?a("el-form-item",{staticClass:"border-bottom",attrs:{label:e.propertyName,prop:e.field}},[a("el-checkbox",{model:{value:t.info.recommend,callback:function(e){t.$set(t.info,"recommend",e)},expression:"info['recommend']"}},[t._v("推荐")]),t._v(" "),a("el-checkbox",{model:{value:t.info.special,callback:function(e){t.$set(t.info,"special",e)},expression:"info['special']"}},[t._v("特价")]),t._v(" "),a("el-checkbox",{model:{value:t.info.hotsale,callback:function(e){t.$set(t.info,"hotsale",e)},expression:"info['hotsale']"}},[t._v("热卖")]),t._v(" "),a("el-checkbox",{model:{value:t.info.newProduct,callback:function(e){t.$set(t.info,"newProduct",e)},expression:"info['newProduct']"}},[t._v("新品")])],1):t._e(),t._v(" "),"attr"==e.field?a("el-form-item",{staticClass:"border-bottom",attrs:{label:"是否上架"}},[a("el-radio",{attrs:{label:1},model:{value:t.info.status,callback:function(e){t.$set(t.info,"status",e)},expression:"info.status"}},[t._v("是")]),t._v(" "),a("el-radio",{attrs:{label:2},model:{value:t.info.status,callback:function(e){t.$set(t.info,"status",e)},expression:"info.status"}},[t._v("否")])],1):t._e(),t._v(" "),"attr"==e.field&&t.typeInfo.colorsize&&t.infoReady?a("el-form-item",{attrs:{label:"规格"}},[a("colorSizeUpdate",{attrs:{id:t.categoryId,obj:{standardId:t.info.standardId,productStandardImg:t.info.productStandardImg,productFashion:t.info.productFashion,productStandardImgId:t.info.productStandardImgId}},on:{getData:t.getSizeData}})],1):t._e(),t._v(" "),"productstyle"==e.field?a("el-form-item",{attrs:{label:e.propertyName,prop:e.field}},t._l(5,function(e,i){return a("imageUpload",{key:i,staticStyle:{display:"inline-block","margin-right":"25px"},attrs:{index:i,path:t.fashionSwitchPic[i]},on:{getPath:t.getPath}})})):t._e(),t._v(" "),"text"==e.field?a("el-form-item",{attrs:{label:e.propertyName,prop:e.field}},[a("VueUEditor",{attrs:{defaultMsg:t.defaultMsg,index:0},on:{ready:t.editorReady}})],1):t._e(),t._v(" "),"text1"==e.field?a("el-form-item",{attrs:{label:e.propertyName,prop:e.field}},[a("VueUEditor",{attrs:{defaultMsg:t.defaultMsg,index:1},on:{ready:t.editorReady}})],1):t._e(),t._v(" "),1==e.dataType&&"productstyle"!=e.field&&"name"!=e.field&&"stockCount"!=e.field&&"weight"!=e.field?a("el-form-item",{attrs:{label:e.propertyName,prop:e.field}},[a("el-input",{staticClass:"w192",model:{value:t.info[e.field],callback:function(a){t.$set(t.info,e.field,a)},expression:"info[model.field]"}})],1):t._e(),t._v(" "),2==e.dataType&&"price"!=e.field&&"stockCount"!=e.field&&"weight"!=e.field?a("el-form-item",{attrs:{label:e.propertyName,prop:e.field}},[a("el-input",{staticClass:"w192",model:{value:t.info[e.field],callback:function(a){t.$set(t.info,e.field,a)},expression:"info[model.field]"}})],1):t._e(),t._v(" "),3==e.dataType&&"price"!=e.field&&"stockCount"!=e.field&&"weight"!=e.field?a("el-form-item",{attrs:{label:e.propertyName,prop:e.field}},[a("el-input",{staticClass:"w192",model:{value:t.info[e.field],callback:function(a){t.$set(t.info,e.field,a)},expression:"info[model.field]"}})],1):t._e(),t._v(" "),4==e.dataType&&"text"!=e.field&&"text1"!=e.field?a("el-form-item",{attrs:{label:e.propertyName,prop:e.field}},[a("el-input",{staticClass:"w192",attrs:{type:"textarea"},model:{value:t.info[e.field],callback:function(a){t.$set(t.info,e.field,a)},expression:"info[model.field]"}})],1):t._e(),t._v(" "),5==e.dataType?a("el-form-item",{attrs:{label:e.propertyName,prop:e.field}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:t.info[e.field],callback:function(a){t.$set(t.info,e.field,a)},expression:"info[model.field]"}})],1):t._e(),t._v(" "),7==e.dataType&&"refBrand"!=e.field&&"standardTypeIds"!=e.field&&"colorsize"!=e.field&&"attr"!=e.field?a("el-form-item",{attrs:{label:e.propertyName,prop:e.field}},[a("el-checkbox-group",{model:{value:t.info[e.field],callback:function(a){t.$set(t.info,e.field,a)},expression:"info[model.field]"}},t._l(e.optValue,function(t){return a("el-checkbox",{key:t,attrs:{label:t}})}))],1):t._e(),t._v(" "),8==e.dataType?a("el-form-item",{attrs:{label:e.propertyName,prop:e.field}},[a("el-radio-group",{model:{value:t.info[e.field],callback:function(a){t.$set(t.info,e.field,a)},expression:"info[model.field]"}},t._l(e.optValue,function(e){return a("el-radio",{key:e,attrs:{label:e}},[t._v(t._s(e))])}))],1):t._e()],1):t._e()}))],1),t._v(" "),a("div",{staticClass:"form-bottom-bar"},[a("el-button",{attrs:{type:"warning"},on:{click:function(e){t.saveForm(!0)}}},[t._v("提交")]),t._v(" "),a("el-button",{attrs:{type:"info"},on:{click:function(e){t.restForm()}}},[t._v("重置")])],1)],1)},r=[],n={render:i,staticRenderFns:r};e.a=n},AxeO:function(t,e,a){"use strict";var i=a("hRKE"),r=a.n(i),n=a("2sCs"),s=a.n(n),o=a("wc4o"),d=(a("FVK1"),a("Uwrw")),l=a("b1Wg"),c=a("KJM1");e.a={components:{VueUEditor:l.a,imageUpload:d.a,colorSizeUpdate:c.a},data:function(){var t=function(t,e,a){if(""===e)a(new Error("此项必填"));else{/^[0-9]+$/.test(e)?a():a(new Error("只能输入正整数"))}};return{loading:!1,type:this.$route.query.type,typeId:this.$route.query.typeId,categoryId:this.$route.query.categoryId,id:this.$route.query.id,infoReady:!1,info:{},typeInfo:{},imagePath:"",modelInfo:[],defaultMsg:"",ueList:[],fashionSwitchPic:[],dataArr:[],parantList:[],tplChannelList:[],tplContentList:[],checkAll1:!1,checkedBrands:[],checkBrandsList:[],brandList:[],isIndeterminate1:!0,dialogTableVisible:!1,checkAll2:!1,checkedStandardType:[],checkStandardTypeList:[],standardTypeList:[],isIndeterminate2:!0,dialogTableVisible2:!1,rules:{name:[{required:!0,message:"请输入商品名",trigger:"blur"},{min:2,max:25,message:"商品名称最短2字符，最长不能超过25个字符",trigger:"blur"}],stockCount:[{validator:t,trigger:"blur"}],weight:[{required:!0,validator:t,trigger:"blur"}],path:[{required:!0,message:"请输入路径",trigger:"blur"}],priority:[{required:!0,message:"请输入排序",trigger:"blur"}]}}},methods:{getModelInfo:function(t){var e=this,a={typeId:t,isCategory:!1};o.F(a).then(function(t){e.modelInfo=t.body,o.I({id:e.id}).then(function(t){e.info=t.body,e.infoReady=!0,console.log("第一步"),e.fashionSwitchPic=t.body.fashionSwitchPic,setTimeout(function(){e.ueList[0].setContent(e.info.text),e.ueList[1].setContent(e.info.text1)},500)})})},getInfo:function(){var t=this;this.loading=!0,s.a.all([o.u({id:this.categoryId}),o.z({id:this.typeId}),o.r({categoryId:this.categoryId})]).then(s.a.spread(function(e,a,i){t.typeInfo=e.body,t.parantList=a.body,t.brandList=i.body,t.loading=!1}))},editorReady:function(t,e){var a=this;this.ueList[e]=t,setTimeout(function(){a.ueList[0].setContent(a.info.text),a.ueList[1].setContent(a.info.text1)},500)},getPath:function(t,e){this.fashionSwitchPic[e]=t},getSizeData:function(t){this.dataArr=t},saveForm:function(){var t=this,e={};for(var a in this.info)"object"!=r()(this.info[a])&&(e[a]=this.info[a]);e.categoryId=this.categoryId,e.fashionSwitchPic=this.fashionSwitchPic.join(",");for(var i in this.dataArr)this.dataArr.hasOwnProperty(i)&&(e[i]=this.dataArr[i]);e.text=this.ueList[0].getContent(),e.text1=this.ueList[1].getContent(),this.$refs.form.validate(function(a){if(a){if(t.typeInfo.colorsize){if(!e.paramsState)return t.errorMessage("请在【开启规格】所提供的每种规格中至少选择一项规格属性"),!1;if(!e.pictureState)return t.errorMessage("有图规格必须上传图片"),!1;if(!e.countState)return t.errorMessage("规格的所有属性必须填写"),!1}t.loading=!0,o.V(e).then(function(e){t.loading=!1,200==e.code&&(t.successMessage("修改成功"),setTimeout(function(){t.routerLink("/productList","list")},1e3))})}})},restForm:function(){}},created:function(){this.getModelInfo(this.typeId),this.getInfo()}}},DLpR:function(t,e,a){var i=a("nC2E");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("8bSs")("4fbc8e53",i,!0)},KJM1:function(t,e,a){"use strict";function i(t){a("b8by")}var r=a("Rw33"),n=a("0Ws9"),s=a("/Xao"),o=i,d=s(r.a,n.a,!1,o,null,null);e.a=d.exports},Mlkw:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"gou-upload",staticStyle:{position:"relative"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:this.$store.state.sys.upLoadUrl,name:"uploadFile",data:t.upload.data,"show-file-list":!1,"on-success":t.handleAvatarSuccess,"on-progress":t.handleAvatarProgress}},[t.upload.uploading?a("div",{staticClass:"uploading"},[a("el-progress",{attrs:{type:"circle",percentage:t.upload.percent}})],1):t._e(),t._v(" "),t.upload.imageUrl?a("div",{staticClass:"upload-hover-box"},[a("img",{staticClass:"avatar",attrs:{src:t.upload.imageUrl}}),t._v(" "),t.upload.imageUrl?a("span",{staticClass:"upload-cover"},[t._v("点击修改图片")]):t._e()]):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),t._v(" "),t.upload.imageUrl?a("i",{staticClass:"iconfont bbs-delete pos-del",attrs:{title:"删除"},on:{click:function(e){e.preventDefault(),t.delImg(e)}}}):t._e()],1)},r=[],n={render:i,staticRenderFns:r};e.a=n},NZkp:function(t,e,a){"use strict";var i=a("2RFS"),r=a("s4F+");e.a={name:"imageUpload",props:{path:{type:String,default:""},index:{type:Number,default:0}},data:function(){var t=Object(i.a)();return{upload:{url:this.$store.state.sys.baseUrl,imageUrl:"",uploading:!1,percent:0,data:Object(r.a)({appId:this.$store.state.sys.appId,sessionKey:localStorage.getItem("sessionKey"),type:"image",nonceStr:t},this.$store.state.sys.appKey)}}},methods:{handleAvatarSuccess:function(t,e){this.upload.uploading=!1,this.upload.percent=0,200==t.code?(this.upload.imageUrl=URL.createObjectURL(e.raw),this.$emit("getPath",t.body.url,this.index)):209==t.code?(this.errorMessage("无上传权限"),this.$emit("getPath","",this.index)):(this.errorMessage("上传失败，请检查文件类型"),this.$emit("getPath","",this.index))},handleAvatarProgress:function(t,e,a){this.upload.uploading=!0,this.upload.percent=parseInt(t.percent)},delImg:function(){this.upload.imageUrl="",this.$emit("getPath","",this.index)}},created:function(){""==this.path||null==this.path?this.upload.imageUrl="":this.path.indexOf("http://")>=0?this.upload.imageUrl=this.path:this.upload.imageUrl=this.upload.url+this.path},watch:{path:function(t,e){""==this.path||null==this.path?this.upload.imageUrl="":this.upload.imageUrl=this.upload.url+this.path}}}},Ptor:function(t,e,a){"use strict";function i(t){a("DLpR")}Object.defineProperty(e,"__esModule",{value:!0});var r=a("AxeO"),n=a("278Y"),s=a("/Xao"),o=i,d=s(r.a,n.a,!1,o,null,null);e.default=d.exports},Rw33:function(t,e,a){"use strict";var i=a("hRKE"),r=a.n(i),n=a("wc4o"),s=a("Uwrw"),o=a("T84g");e.a={name:"colorSizeUpdate",components:{imageUpload:s.a},props:{id:{},obj:{}},data:function(){return{centerDialogVisible:!1,checkGroup:[],standardTypeItems:[],standardTypeAll:[],checkStandardList:[],tableList:[],checkState:!1,listenState:!0,natures:"",dataArr:{isDefaults:[],pictureId:[],nature:[],colorImg:[],stockCounts:[],salePrices:[],marketPrices:[],costPrices:[],fashionIds:[],paramsState:!0,pictureState:!1,countState:!1}}},methods:{getTypeInfo:function(){var t=this;n.x({categoryId:this.id}).then(function(e){t.standardTypeItems=e.body,t.dataArr.colorImg=t.obj.productStandardImg,t.dataArr.pictureId=t.obj.productStandardImgId;for(var a in e.body){var i={dataType:e.body[a].dataType,label:e.body[a].name,check:[]};for(var r in e.body[a].standard)t.obj.standardId.join(",").indexOf(e.body[a].standard[r].standardId)>=0&&i.check.push(e.body[a].standard[r].standardId);t.checkGroup.push(i),t.checkStandardList.push([])}for(var n in e.body)for(var s in e.body[n].standard)t.standardTypeAll.push(e.body[n].standard[s])})},deleteInfoItems:function(t){if(this.tableList.splice(t,1),this.dataArr.isDefaults.splice(t,1),this.dataArr.stockCounts.splice(t,1),this.dataArr.salePrices.splice(t,1),this.dataArr.marketPrices.splice(t,1),this.dataArr.costPrices.splice(t,1),this.dataArr.nature.splice(t,1),0!=t){this.dataArr.isDefaults.splice(0,1,"true");for(var e in this.dataArr.isDefaults)console.log(this.dataArr.isDefaults[e])}this.getData()},getDefaults:function(t){for(var e in this.dataArr.isDefaults)this.dataArr.isDefaults[e]=e==t},getPath:function(t,e){this.dataArr.colorImg[e]=t,this.getData()},getImgId:function(t){this.dataArr.pictureId=t,this.getData()},changeCoverImg:function(t){this.dataArr.colorImg.splice(t,1),this.getData()},getData:function(){var t=[];for(var e in this.checkStandardList)for(var a in this.checkStandardList[e])t.push(this.checkStandardList[e][a].standardId);var i=this.dataArr.colorImg,r=this.dataArr.pictureId;if(i.length==r.length)for(var n in i){if("undefined"==i[n]){this.dataArr.pictureState=!1;break}this.dataArr.pictureState=!0}else this.dataArr.pictureState=!1;var s=!0,o=this.dataArr.isDefaults.length,d=this.dataArr.stockCounts,l=this.dataArr.salePrices,c=this.dataArr.marketPrices,u=this.dataArr.costPrices;if(d.length+l.length+c.length+u.length==4*o)for(var p in this.dataArr.isDefaults){if("undefined"==d[p]||""===d[p]){s=!1;break}if("undefined"==l[p]||""===l[p]){s=!1;break}if("undefined"==c[p]||""===c[p]){s=!1;break}if("undefined"==u[p]||""===u[p]){s=!1;break}}else s=!1;this.dataArr.countState=s;var f={character:t.join(","),picture:this.dataArr.pictureId.join(","),colorImg:this.dataArr.colorImg.join(","),isDefaults:this.dataArr.isDefaults.join(","),stockCounts:this.dataArr.stockCounts.join(","),salePrices:this.dataArr.salePrices.join(","),marketPrices:this.dataArr.marketPrices.join(","),costPrices:this.dataArr.costPrices.join(","),nature:this.dataArr.nature.join(","),paramsState:this.dataArr.paramsState,pictureState:this.dataArr.pictureState,countState:this.dataArr.countState,fashionIds:this.dataArr.fashionIds.join(",")};this.$emit("getData",f)}},watch:{checkGroup:{handler:function(t,e){var a=0;for(var i in t){this.checkStandardList[i]=[];for(var r in t[i].check)for(var n in this.standardTypeAll)t[i].check[r]==this.standardTypeAll[n].standardId&&(this.checkStandardList[i].push(this.standardTypeAll[n]),a++)}this.dataArr.stockCounts=[],this.dataArr.salePrices=[],this.dataArr.marketPrices=[],this.dataArr.costPrices=[],this.checkState=a>0;var s=!0;for(var d in this.checkStandardList){if(this.checkStandardList[d].length<=0){s=!1;break}}this.dataArr.paramsState=s,this.tableList=s?Object(o.a)(this.checkStandardList):[],this.getData()},deep:!0},tableList:{handler:function(t,e){var a=[],i=[];for(var n in t){this.dataArr.isDefaults[n]=0==n;var s=[];for(var o in t[n])o%2==0&&s.push(t[n][o]);s.sort(function(t,e){return t-e}),a.push(s)}for(var d in a){var l=a[d].join("_");i.push(l)}if(this.dataArr.nature=i,this.checkState=t.length>0,"object"==r()(this.natures)){this.dataArr.fashionIds=[],this.dataArr.isDefaults=[];for(var c in this.dataArr.nature)if(void 0==this.natures[this.dataArr.nature[c]])this.dataArr.isDefaults[c]=!1,this.dataArr.costPrices[c]="",this.dataArr.marketPrices[c]="",this.dataArr.salePrices[c]="",this.dataArr.stockCounts[c]="",this.dataArr.fashionIds[c]=0;else{var u=this.dataArr.nature[c];this.dataArr.isDefaults[c]=this.natures[u].isDefaults,this.dataArr.costPrices[c]=this.natures[u].costPrices,this.dataArr.marketPrices[c]=this.natures[u].marketPrices,this.dataArr.salePrices[c]=this.natures[u].salePrices,this.dataArr.stockCounts[c]=this.natures[u].stockCounts,this.dataArr.fashionIds[c]=this.natures[u].fashionIds}}var p=!1;for(var f in this.dataArr.isDefaults)if(this.dataArr.isDefaults[f]){p=!0;break}p||(this.dataArr.isDefaults[0]=!0)},deep:!0},checkStandardList:{handler:function(t,e){var a={};for(var i in this.obj.productFashion){a[this.obj.productFashion[i].fashion_standardId.sort().join("_")]={isDefaults:this.obj.productFashion[i].isDefaults,costPrices:this.obj.productFashion[i].costPrices,marketPrices:this.obj.productFashion[i].marketPrices,salePrices:this.obj.productFashion[i].salePrices,stockCounts:this.obj.productFashion[i].stockCounts,fashionIds:this.obj.productFashion[i].fashionIds}}this.natures=a;for(var r in this.dataArr.nature){var n=this.dataArr.nature[r];this.dataArr.isDefaults[r]=a[n].isDefaults,this.dataArr.costPrices[r]=a[n].costPrices,this.dataArr.marketPrices[r]=a[n].marketPrices,this.dataArr.salePrices[r]=a[n].salePrices,this.dataArr.stockCounts[r]=a[n].stockCounts,this.dataArr.fashionIds[r]=a[n].fashionIds}this.getData()},deep:!0},dataArr:{handler:function(t,e){this.getData()},deep:!0},obj:{handler:function(t,e){},deep:!0}},created:function(){this.getTypeInfo()}}},T84g:function(t,e,a){"use strict";function i(t){var e=[];n=[],s=[],o=[];for(var a=0,i=0,d=0;d<t.length;d++)t[d].length>0?(o[i]=0,n[i]=t[d],i++):a++;if(a==t.length)return[];s=n.length-1;for(var l=1,c=0;c<n.length;c++)l*=n[c].length;for(var d=0;d<l;d++){for(var u=[],p=0;p<n.length;p++)u.push(n[p][o[p]].standardId),u.push(n[p][o[p]].standardName);e.push(u),r()}return e}function r(){++o[s]>=n[s].length&&(o[s]=0,s--,s>=0&&r(),s=n.length-1)}e.a=i;var n=[],s=0,o=[]},T9Ip:function(t,e,a){var i=a("kIg/");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("8bSs")("0582fcd4",i,!0)},Uwrw:function(t,e,a){"use strict";function i(t){a("T9Ip")}var r=a("NZkp"),n=a("Mlkw"),s=a("/Xao"),o=i,d=s(r.a,n.a,!1,o,"data-v-ced38416",null);e.a=d.exports},b1Wg:function(t,e,a){"use strict";var i=a("xeux"),r=a("oGsl"),n=a("/Xao"),s=n(i.a,r.a,!1,null,null,null);e.a=s.exports},b8by:function(t,e,a){var i=a("uTPP");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("8bSs")("38bd222d",i,!0)},"kIg/":function(t,e,a){e=t.exports=a("BkJT")(!1),e.push([t.i,".gou-upload[data-v-ced38416]{width:178px}.pos-del[data-v-ced38416]{position:absolute;width:45px;height:45px;color:#fff;cursor:pointer;top:0;right:0;font-size:25px;display:none;z-index:15;text-align:center}.gou-upload:hover .pos-del[data-v-ced38416],.gou-upload:hover .upload-cover[data-v-ced38416]{display:block}",""])},nC2E:function(t,e,a){e=t.exports=a("BkJT")(!1),e.push([t.i,".w-50{width:100px}.price-group{display:inline-block;margin-right:15px}.price-group label{font-size:14px;color:#5a5e66;margin-right:5px}",""])},oGsl:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("script",{attrs:{id:t.randomId,name:"content",type:"text/plain"}})},r=[],n={render:i,staticRenderFns:r};e.a=n},uTPP:function(t,e,a){e=t.exports=a("BkJT")(!1),e.push([t.i,".compent-table th:first-child{text-align:left;width:60px}.compent-table th{text-align:center;color:#8a8e98;font-size:14px}.compent-table td{text-align:center;padding:6px 10px;font-size:12px}.compent-table .el-input{width:80px;font-size:12px}.compent-table .el-input .compent-table .el-input{padding:0 10px}.flex-image{display:-webkit-box;display:-ms-flexbox;display:flex}.flex-image-items{position:relative;text-align:center;margin-right:20px}.pos-check{position:absolute;top:-9px;right:-13px;z-index:20}",""])},wc4o:function(t,e,a){"use strict";function i(t){return Object(Q.a)({url:tt.a.getProductList,method:"post",data:t,nonceStr:!0,signValidate:!0})}function r(t){return Object(Q.a)({url:tt.a.getProductInfo,method:"post",data:t,nonceStr:!0,signValidate:!0})}function n(t){return Object(Q.a)({url:tt.a.getBrandListByCategoryId,method:"post",data:t,nonceStr:!0,signValidate:!0})}function s(t){return Object(Q.a)({url:tt.a.addProductList,method:"post",data:t,nonceStr:!0,signValidate:!0})}function o(t){return Object(Q.a)({url:tt.a.updateProductList,method:"post",data:t,nonceStr:!0,signValidate:!0})}function d(t){return Object(Q.a)({url:tt.a.deleteProductList,method:"post",data:t,nonceStr:!0,signValidate:!0})}function l(t){return Object(Q.a)({url:tt.a.getCommodityCategoryTree,method:"post",data:t,signValidate:!0})}function c(t){return Object(Q.a)({url:tt.a.getCommodityCategoryList,method:"post",data:t,signValidate:!0})}function u(t){return Object(Q.a)({url:tt.a.getCommodityCategoryInfo,method:"post",data:t,signValidate:!0})}function p(t){return Object(Q.a)({url:tt.a.getHotList,method:"post",data:t,signValidate:!0})}function f(t){return Object(Q.a)({url:tt.a.getSaleChatList,method:"post",data:t,signValidate:!0})}function h(t){return Object(Q.a)({url:tt.a.addCommodityCategoryInfo,method:"post",data:t,nonceStr:!0,signValidate:!0})}function m(t){return Object(Q.a)({url:tt.a.updateCommodityCategoryInfo,method:"post",data:t,nonceStr:!0,signValidate:!0})}function g(t){return Object(Q.a)({url:tt.a.getCommodityTopCategory,method:"post",data:t,signValidate:!0})}function b(t){return Object(Q.a)({url:tt.a.getCommodityTemplate,method:"post",data:t,signValidate:!0})}function v(t){return Object(Q.a)({url:tt.a.getCommodityBrand,method:"post",nonceStr:!0,data:t,signValidate:!0})}function y(t){return Object(Q.a)({url:tt.a.getCommodityStandardType,method:"post",nonceStr:!0,data:t,signValidate:!0})}function k(t){return Object(Q.a)({url:tt.a.getBrandList,method:"post",nonceStr:!0,data:t,signValidate:!0})}function _(t){return Object(Q.a)({url:tt.a.getBrandInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function I(t){return Object(Q.a)({url:tt.a.getBrandTypeInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function S(t){return Object(Q.a)({url:tt.a.addBrandInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function x(t){return Object(Q.a)({url:tt.a.updateBrandInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function A(t){return Object(Q.a)({url:tt.a.deleteBrandInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function C(t){return Object(Q.a)({url:tt.a.priorityBrandInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function P(t){return Object(Q.a)({url:tt.a.deleteCommodityCategoryInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function j(t){return Object(Q.a)({url:tt.a.priorityCommodityCategoryInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function w(t){return Object(Q.a)({url:tt.a.getStandardList,method:"post",nonceStr:!0,data:t,signValidate:!0})}function T(t){return Object(Q.a)({url:tt.a.getStandardInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function V(t){return Object(Q.a)({url:tt.a.addStandardInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function L(t){return Object(Q.a)({url:tt.a.updateStandardInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function O(t){return Object(Q.a)({url:tt.a.deleteStandardInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function $(t){return Object(Q.a)({url:tt.a.priorityStandardInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function D(t){return Object(Q.a)({url:tt.a.getTypeInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function U(t){return Object(Q.a)({url:tt.a.addTypeInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function E(t){return Object(Q.a)({url:tt.a.updateTypeInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function M(t){return Object(Q.a)({url:tt.a.deleteTypeInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function N(t){return Object(Q.a)({url:tt.a.getModelList,method:"post",nonceStr:!0,data:t,signValidate:!0})}function F(t){return Object(Q.a)({url:tt.a.getModelListAll,method:"post",nonceStr:!0,data:t,signValidate:!0})}function z(t){return Object(Q.a)({url:tt.a.getModelInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function G(t){return Object(Q.a)({url:tt.a.getConsultList,method:"post",nonceStr:!0,data:t,signValidate:!0})}function R(t){return Object(Q.a)({url:tt.a.getConsultInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function B(t){return Object(Q.a)({url:tt.a.updateConsultInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function K(t){return Object(Q.a)({url:tt.a.deleteConsultInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function q(t){return Object(Q.a)({url:tt.a.getDiscussList,method:"post",nonceStr:!0,data:t,signValidate:!0})}function J(t){return Object(Q.a)({url:tt.a.getDiscussInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function W(t){return Object(Q.a)({url:tt.a.updateDiscussInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function X(t){return Object(Q.a)({url:tt.a.deleteDiscussInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function Y(t){return Object(Q.a)({url:tt.a.addDefaultTypeProperty,method:"post",nonceStr:!0,data:t,signValidate:!0})}function H(t){return Object(Q.a)({url:tt.a.addTypePropertyContent,method:"post",nonceStr:!0,data:t,signValidate:!0})}function Z(t){return Object(Q.a)({url:tt.a.deleteTypePropertyContent,method:"post",nonceStr:!0,data:t,signValidate:!0})}e.J=i,e.I=r,e.r=n,e.d=s,e.V=o,e.l=d,e.w=l,e.v=c,e.u=u,e.E=p,e.K=f,e.b=h,e.S=m,e.z=g,e.y=b,e.t=v,e.x=y,e.q=k,e.p=_,e.s=I,e.a=S,e.R=x,e.h=A,e.O=C,e.i=P,e.P=j,e.M=w,e.L=T,e.e=V,e.W=L,e.m=O,e.Q=$,e.N=D,e.f=U,e.X=E,e.n=M,e.G=N,e.H=F,e.F=z,e.B=G,e.A=R,e.T=B,e.j=K,e.D=q,e.C=J,e.U=W,e.k=X,e.c=Y,e.g=H,e.o=Z;var Q=a("yYIz"),tt=a("z+6n")},xeux:function(t,e,a){"use strict";e.a={name:"VueUEditor",props:{ueditorPath:{type:String,default:"./static/ueditor/"},defaultMsg:{type:String,default:""},ueditorConfig:{type:Object,default:function(){return{}}},index:{default:0}},data:function(){return{randomId:"editor_"+1e4*Math.random(),instance:null,scriptTagStatus:0,appId:this.$store.state.sys.appId}},created:function(){void 0!==window.UE?(this.scriptTagStatus=2,this.initEditor()):this.insertScriptTag()},mounted:function(){},beforeDestroy:function(){null!==this.instance&&this.instance.destroy&&this.instance.destroy()},watch:{defaultMsg:function(t,e){this.instance=window.UE.getEditor(this.randomId,this.ueditorConfig),null!==t&&this.instance.ready(function(){this.setContent(t)})}},methods:{insertScriptTag:function(){var t=this,e=document.getElementById("editorScriptTag"),a=document.getElementById("configScriptTag");if(null===e){a=document.createElement("script"),a.type="text/javascript",a.src=this.ueditorPath+"ueditor.config.js",a.id="configScriptTag",e=document.createElement("script"),e.type="text/javascript",e.src=this.ueditorPath+"ueditor.all.js",e.id="editorScriptTag";var i=document.getElementsByTagName("head")[0];i.appendChild(a),i.appendChild(e)}a.loaded?this.scriptTagStatus++:a.addEventListener("load",function(){t.scriptTagStatus++,a.loaded=!0,t.initEditor()}),e.loaded?this.scriptTagStatus++:e.addEventListener("load",function(){t.scriptTagStatus++,e.loaded=!0,t.initEditor()}),this.initEditor()},getUEContent:function(){return this.instance.getContent()},initEditor:function(){var t=this,e=this;2===this.scriptTagStatus&&null===this.instance&&this.$nextTick(function(){t.instance=window.UE.getEditor(t.randomId,t.ueditorConfig),t.instance.addListener("ready",function(){window.UE.Editor.prototype._bkGetActionUrl=window.UE.Editor.prototype.getActionUrl,window.UE.Editor.prototype.getActionUrl=function(t){return"uploadimage"==t?"http://192.168.0.173:8080/jeecmsv9/api/admin/ueditor/upload?sessionKey=41e913c000de6b32c2bfb9ab98d67ab5f2377b7c2b605d9c599a688f3bfdd189454b68b238d570cf5b0ad835c5710337&appId=1580387213331704":"uploadvideo"==t?"http://192.168.0.199:12000/newjspgou/api/admin/ueditor/upload?sessionKey="+localStorage.getItem("sessionKey")+"&appId="+e.$store.state.sys.appId:"uploadfile"==t?"http://192.168.0.199:12000/newjspgou/api/admin/ueditor/upload?sessionKey="+localStorage.getItem("sessionKey")+"&appId="+e.$store.state.sys.appId:"catchimage"==t?"http://192.168.0.199:12000/newjspgou/api/admin/ueditor/getRemoteImage?sessionKey="+localStorage.getItem("sessionKey")+"&appId="+e.$store.state.sys.appId:"uploadscrawl"==t?"http://192.168.0.199:12000/newjspgou/api/admin//ueditor/scrawlImage?Type=Image&sessionKey="+localStorage.getItem("sessionKey")+"&appId="+e.$store.state.sys.appId:"listimage"==t||"listfile"==t?"http://192.168.0.199:12000/newjspgou/api/admin/ueditor/imageManager?picNum=50&insite=false&sessionKey="+localStorage.getItem("sessionKey")+"&appId="+e.$store.state.sys.appId:"config"==t?"/static/ueditor/config.json":void 0},t.$emit("ready",t.instance,t.index),t.instance.setContent(t.defaultMsg)})})}}}}});