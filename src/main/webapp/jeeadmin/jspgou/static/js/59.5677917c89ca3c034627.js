webpackJsonp([59],{FWz8:function(t,e,i){"use strict";function a(t){return Object(k.a)({url:V.a.getOrderList,method:"post",data:t,signValidate:!0})}function n(t){return Object(k.a)({url:V.a.getOrderInfo,method:"post",data:t,signValidate:!0})}function o(t){return Object(k.a)({url:V.a.updateOrderInfo,method:"post",data:t,signValidate:!0})}function s(t){return Object(k.a)({url:V.a.deleteOrderInfo,method:"post",data:t,signValidate:!0})}function r(t){return Object(k.a)({url:V.a.enterOrderInfo,method:"post",data:t,signValidate:!0})}function l(t){return Object(k.a)({url:V.a.doneOrderInfo,method:"post",data:t,signValidate:!0})}function c(t){return Object(k.a)({url:V.a.saveOrderInfo,method:"post",data:t,signValidate:!0})}function d(t){return Object(k.a)({url:V.a.payOrderInfo,method:"post",data:t,signValidate:!0})}function u(t){return Object(k.a)({url:V.a.cannelOrderInfo,method:"post",data:t,signValidate:!0})}function m(t){return Object(k.a)({url:V.a.getOrderReturnList,method:"post",data:t,signValidate:!0})}function f(t){return Object(k.a)({url:V.a.getOrderReturnInfo,method:"post",data:t,signValidate:!0})}function p(t){return Object(k.a)({url:V.a.deleteOrderReturnInfo,method:"post",data:t,signValidate:!0})}function v(t){return Object(k.a)({url:V.a.affirmOrderReturnInfo,method:"post",data:t,signValidate:!0})}function h(t){return Object(k.a)({url:V.a.sendbackOrderReturnInfo,method:"post",data:t,signValidate:!0})}function _(t){return Object(k.a)({url:V.a.receiveOrderReturnInfo,method:"post",data:t,signValidate:!0})}function g(t){return Object(k.a)({url:V.a.refundOrderReturnInfo,method:"post",data:t,signValidate:!0})}function b(t){return Object(k.a)({url:V.a.getShopShipmentsList,method:"post",data:t,signValidate:!0})}function x(t){return Object(k.a)({url:V.a.getShopShipmentsInfo,method:"post",data:t,signValidate:!0})}function C(t){return Object(k.a)({url:V.a.addShopShipmentsInfo,method:"post",data:t,signValidate:!0})}function S(t){return Object(k.a)({url:V.a.updateShopShipmentsInfo,method:"post",data:t,signValidate:!0})}function O(t){return Object(k.a)({url:V.a.deleteShopShipmentsInfo,method:"post",data:t,signValidate:!0})}function I(t){return Object(k.a)({url:V.a.getShipmentsList,method:"post",data:t,signValidate:!0})}function j(t){return Object(k.a)({url:V.a.getShipmentsInfo,method:"post",data:t,signValidate:!0})}function y(t){return Object(k.a)({url:V.a.isPrintShipmentsInfo,method:"post",data:t,signValidate:!0})}function w(t){return Object(k.a)({url:V.a.deleteShipmentsInfo,method:"post",data:t,signValidate:!0})}e.k=a,e.j=n,e.x=o,e.d=s,e.i=r,e.h=l,e.v=c,e.s=d,e.c=u,e.m=m,e.l=f,e.e=p,e.b=v,e.w=h,e.t=_,e.u=g,e.q=b,e.p=x,e.a=C,e.y=S,e.g=O,e.o=I,e.n=j,e.r=y,e.f=w;var k=i("yYIz"),V=i("z+6n")},RBs9:function(t,e,i){var a=i("jbpO");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i("8bSs")("3379aa8c",a,!0)},jbpO:function(t,e,i){e=t.exports=i("BkJT")(!1),e.push([t.i,".w280[data-v-64992600]{width:320px;margin:0 auto}.img-w50[data-v-64992600]{display:block;width:50px;height:50px;margin:7px 10px 7px 0;float:left}.img-title[data-v-64992600]{float:left;line-height:20px;text-align:left;color:#1276c3;width:260px;margin-top:7px;text-overflow:ellipsis}.pro-table[data-v-64992600]{width:100%;margin-top:24px}.w-80[data-v-64992600]{width:80px}.pro-table th[data-v-64992600]{border-top:1px solid #eee;border-bottom:2px solid #eee;height:50px;font-size:14px;color:#8a8e98;text-align:center}.pro-table td[data-v-64992600]{border-bottom:1px solid #eee;font-size:14px;color:#353535;text-align:center;padding:0 12px}.more-info[data-v-64992600]{padding-left:0;margin-top:22px;margin-bottom:0}",""])},jpgh:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"forum-module"},[i("div",{staticClass:"forum-header"},[i("span",{staticClass:"forum-name"},[t._v(t._s(t.$route.name))]),t._v(" "),i("div",{staticClass:"pull-right"},[i("el-button",{staticClass:"back",on:{click:function(e){t.routerLink("/order","list")}}},[t._v("返回列表")])],1)]),t._v(" "),i("table",{staticClass:"pro-table"},[t._m(0,!1,!1),t._v(" "),t._l(t.productList,function(e,a){return i("tr",{key:a},[i("td",[t._v(t._s(e.productCode))]),t._v(" "),i("td",[i("div",{staticClass:"w280"},[i("img",{staticClass:"img-w50",attrs:{src:t.url+e.coverImg,alt:""}}),t._v(" "),i("span",{staticClass:"img-title"},[t._v(t._s(e.productName))])])]),t._v(" "),i("td",[1==t.info.paymentStatus?i("el-input",{staticClass:"w-80",model:{value:e.itemPrice,callback:function(i){t.$set(e,"itemPrice",t._n(i))},expression:"item.itemPrice"}}):i("span",[t._v(t._s(e.itemPrice))])],1),t._v(" "),i("td",[t._v(t._s(e.itemWeight))]),t._v(" "),i("td",[1==t.info.paymentStatus?i("el-input",{staticClass:"w-80",model:{value:e.itemCount,callback:function(i){t.$set(e,"itemCount",t._n(i))},expression:"item.itemCount"}}):i("span",[t._v(t._s(e.itemPrice))])],1),t._v(" "),i("td",[t._v(t._s(t.count[a]))])])})],2),t._v(" "),i("el-form",{ref:"form",staticClass:"table-body",attrs:{"label-width":"160px",model:t.info,rules:t.rules}},[i("div",{staticClass:"more-info  more-info1",on:{click:t.toggleMore1}},[t._v("订单信息"),i("i",{staticClass:"el-icon-caret-bottom"})]),t._v(" "),t.orderInfoState?i("el-row",{staticClass:"form-group"},[i("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[i("el-form-item",{attrs:{label:"订单编号"}},[t._v("\n              "+t._s(t.info.code)+"\n         ")])],1),t._v(" "),i("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[i("el-form-item",{attrs:{label:"下单日期"}},[t._v("\n              "+t._s(t.info.createTime)+"\n         ")])],1),t._v(" "),i("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[i("el-form-item",{attrs:{label:"订单状态"}},[1==t.info.orderStatus?i("span",[t._v("未确认")]):t._e(),t._v(" "),2==t.info.orderStatus?i("span",[t._v("已确认")]):t._e(),t._v(" "),3==t.info.orderStatus?i("span",[t._v("已取消")]):t._e(),t._v(" "),4==t.info.orderStatus?i("span",[t._v("已完成")]):t._e()])],1),t._v(" "),i("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[i("el-form-item",{attrs:{label:"支付状态"}},[1==t.info.paymentStatus?i("span",[t._v("未支付")]):t._e(),t._v(" "),2==t.info.paymentStatus?i("span",[t._v("已支付")]):t._e(),t._v(" "),3==t.info.paymentStatus?i("span",[t._v("已退款")]):t._e()])],1),t._v(" "),i("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[i("el-form-item",{attrs:{label:"配送状态"}},[1==t.info.shippingStatus?i("span",[t._v("未发货")]):t._e(),t._v(" "),2==t.info.shippingStatus?i("span",[t._v("已发货")]):t._e(),t._v(" "),3==t.info.shippingStatus?i("span",[t._v("已退货")]):t._e()])],1),t._v(" "),i("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[i("el-form-item",{attrs:{label:"配送方式"}},[1==t.info.shippingStatus?i("el-select",{staticClass:"w192",model:{value:t.info.shippingName,callback:function(e){t.$set(t.info,"shippingName",e)},expression:"info.shippingName"}},[i("el-option",{attrs:{label:"普通快递",value:"普通快递"}}),t._v(" "),i("el-option",{attrs:{label:"顺丰快递",value:"顺丰快递"}})],1):i("span",[t._v("\n                          "+t._s(t.info.shippingName)+"\n                      ")])],1)],1),t._v(" "),i("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[i("el-form-item",{attrs:{label:"商品总金额"}},[t._v("\n                   "+t._s(t.countPrice)+"\n               ")])],1),t._v(" "),i("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[i("el-form-item",{attrs:{label:"运费"}},[1==t.info.shippingStatus?i("el-input",{staticClass:"w192",model:{value:t.info.freight,callback:function(e){t.$set(t.info,"freight",t._n(e))},expression:"info.freight"}}):i("span",[t._v("\n                          "+t._s(t.info.freight)+"\n                      ")])],1)],1),t._v(" "),i("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[i("el-form-item",{attrs:{label:"订单总金额"}},[t._v("\n                   "+t._s(t.countPrice)+"\n               ")])],1),t._v(" "),i("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[i("el-form-item",{attrs:{label:"支付方式"}},[1==t.info.shippingStatus?i("el-select",{staticClass:"w192",model:{value:t.info.paymentName,callback:function(e){t.$set(t.info,"paymentName",e)},expression:"info.paymentName"}},[i("el-option",{attrs:{label:"网上支付",value:"网上支付"}}),t._v(" "),i("el-option",{attrs:{label:"银行汇款",value:"银行汇款"}}),t._v(" "),i("el-option",{attrs:{label:"货到付款",value:"货到付款"}})],1):i("span",[t._v(t._s(t.info.paymentName))])],1)],1)],1):t._e(),t._v(" "),i("div",{staticClass:"more-info more-info2 ",on:{click:t.toggleMore2}},[t._v("收货人信息"),i("i",{staticClass:"el-icon-caret-bottom"})]),t._v(" "),t.userInfoState?i("el-row",{staticClass:"form-group"},[i("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[i("el-form-item",{attrs:{label:"收货人姓名"}},[1==t.info.shippingStatus?i("el-input",{staticClass:"w192",model:{value:t.info.receiveName,callback:function(e){t.$set(t.info,"receiveName",e)},expression:"info.receiveName"}}):i("span",[t._v(t._s(t.info.receiveName))])],1)],1),t._v(" "),i("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[i("el-form-item",{attrs:{label:"收货人手机号"}},[1==t.info.shippingStatus?i("el-input",{staticClass:"w192",model:{value:t.info.receiveMobile,callback:function(e){t.$set(t.info,"receiveMobile",e)},expression:"info.receiveMobile"}}):i("span",[t._v(t._s(t.info.receiveMobile))])],1)],1),t._v(" "),i("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[i("el-form-item",{attrs:{label:"收货人固定电话"}},[1==t.info.shippingStatus?i("el-input",{staticClass:"w192",model:{value:t.info.receivePhone,callback:function(e){t.$set(t.info,"receivePhone",e)},expression:"info.receivePhone"}}):i("span",[t._v(t._s(t.info.receivePhone))])],1)],1),t._v(" "),i("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[i("el-form-item",{attrs:{label:"收货人邮编"}},[1==t.info.shippingStatus?i("el-input",{staticClass:"w192",model:{value:t.info.receiveZip,callback:function(e){t.$set(t.info,"receiveZip",e)},expression:"info.receiveZip"}}):i("span",[t._v(t._s(t.info.receiveZip))])],1)],1),t._v(" "),i("el-col",{attrs:{xs:24,sm:24,md:24,lg:24}},[i("el-form-item",{attrs:{label:"收货人地址"}},[1==t.info.shippingStatus?i("el-input",{staticClass:"w192",model:{value:t.info.receiveAddress,callback:function(e){t.$set(t.info,"receiveAddress",e)},expression:"info.receiveAddress"}}):i("span",[t._v(t._s(t.info.receiveAddress))])],1)],1),t._v(" "),i("el-col",{attrs:{xs:24,sm:24,md:24,lg:24}},[1==t.info.shippingStatus?i("el-form-item",{attrs:{label:"客户留言"}},[i("el-input",{staticClass:"w192",attrs:{type:"textarea"},model:{value:t.info.comments,callback:function(e){t.$set(t.info,"comments",e)},expression:"info.comments"}})],1):t._e()],1)],1):t._e()],1),t._v(" "),i("div",{staticClass:"form-bottom-bar"},["update"==t.type?i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.updateForm()}}},[t._v("修改")]):t._e(),t._v(" "),i("el-button",{attrs:{type:"info"},on:{click:function(e){t.restForm()}}},[t._v("重置")])],1)],1)},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("tr",[i("th",[t._v("商品编号")]),t._v(" "),i("th",[t._v("商品名称")]),t._v(" "),i("th",[t._v("成交价")]),t._v(" "),i("th",[t._v("单重")]),t._v(" "),i("th",[t._v("购买数量")]),t._v(" "),i("th",[t._v("小记")])])}],o={render:a,staticRenderFns:n};e.a=o},zHnq:function(t,e,i){"use strict";function a(t){i("RBs9")}Object.defineProperty(e,"__esModule",{value:!0});var n=i("zc7P"),o=i("jpgh"),s=i("/Xao"),r=a,l=s(n.a,o.a,!1,r,"data-v-64992600",null);e.default=l.exports},zc7P:function(t,e,i){"use strict";(function(t){var a=i("FWz8");e.a={data:function(){return{loading:!0,type:this.$route.query.type,id:this.$route.query.id,info:{},orderInfoState:!1,userInfoState:!1,typeList:[],count:[],countPrice:"",productList:[],url:this.$store.state.sys.baseUrl,pathUrl:"",rules:{name:[{required:!0,message:"此项必填",trigger:"blur"}]}}},methods:{getInfo:function(t){var e=this;a.j({id:t}).then(function(t){e.info=t.body,e.productList=t.body.product,e.loading=!1})},updateForm:function(){var t=this,e={id:this.info.id,itemId:[],itemCount:[],itemPrice:[],shippingId:1,freight:this.info.freight,comments:this.info.comments};for(var i in this.productList)e.itemId[i]=this.productList[i].itemId,e.itemCount[i]=this.productList[i].itemCount,e.itemPrice[i]=this.productList[i].itemPrice;e.itemId=e.itemId.join(","),e.itemPrice=e.itemPrice.join(","),e.itemCount=e.itemCount.join(","),this.$refs.form.validate(function(i){i&&(t.loading=!0,a.x(e).then(function(e){t.loading=!1,200==e.code&&(t.successMessage("修改成功"),setTimeout(function(){t.routerLink("/order","list")},1e3))}))})},toggleMore1:function(){1==this.orderInfoState?(this.orderInfoState=!1,t(".more-info1").find("i").removeClass("el-icon-caret-top").addClass("el-icon-caret-bottom")):(t(".more-info1").find("i").removeClass("el-icon-caret-bottom").addClass("el-icon-caret-top"),this.orderInfoState=!0)},toggleMore2:function(){1==this.userInfoState?(this.v=!1,t(".more-info2").find("i").removeClass("el-icon-caret-top").addClass("el-icon-caret-bottom")):(t(".more-info2").find("i").removeClass("el-icon-caret-bottom").addClass("el-icon-caret-top"),this.userInfoState=!0)},restForm:function(){this.$refs.form.resetFields(),this.getInfo(this.id),this.pathUrl=""}},watch:{productList:{handler:function(t,e){for(var i in t)this.count[i]=t[i].itemPrice*t[i].itemCount;var a=0;for(var n in this.count)a+=this.count[n];this.countPrice=a},deep:!0}},created:function(){this.getInfo(this.id)}}}).call(e,i("tra3"))}});