webpackJsonp([58],{"3jEn":function(t,e,a){"use strict";function n(t){a("ImsJ")}Object.defineProperty(e,"__esModule",{value:!0});var o=a("k456"),s=a("R7N7"),r=a("46Yf"),i=n,l=r(o.a,s.a,!1,i,"data-v-4643a780",null);e.default=l.exports},FWz8:function(t,e,a){"use strict";function n(t){return Object(V.a)({url:R.a.getOrderList,method:"post",data:t,signValidate:!0})}function o(t){return Object(V.a)({url:R.a.getOrderInfo,method:"post",data:t,signValidate:!0})}function s(t){return Object(V.a)({url:R.a.updateOrderInfo,method:"post",data:t,signValidate:!0})}function r(t){return Object(V.a)({url:R.a.deleteOrderInfo,method:"post",data:t,signValidate:!0})}function i(t){return Object(V.a)({url:R.a.enterOrderInfo,method:"post",data:t,signValidate:!0})}function l(t){return Object(V.a)({url:R.a.doneOrderInfo,method:"post",data:t,signValidate:!0})}function d(t){return Object(V.a)({url:R.a.saveOrderInfo,method:"post",data:t,signValidate:!0})}function c(t){return Object(V.a)({url:R.a.payOrderInfo,method:"post",data:t,signValidate:!0})}function f(t){return Object(V.a)({url:R.a.cannelOrderInfo,method:"post",data:t,signValidate:!0})}function m(t){return Object(V.a)({url:R.a.getOrderReturnList,method:"post",data:t,signValidate:!0})}function u(t){return Object(V.a)({url:R.a.getOrderReturnInfo,method:"post",data:t,signValidate:!0})}function v(t){return Object(V.a)({url:R.a.deleteOrderReturnInfo,method:"post",data:t,signValidate:!0})}function _(t){return Object(V.a)({url:R.a.affirmOrderReturnInfo,method:"post",data:t,signValidate:!0})}function p(t){return Object(V.a)({url:R.a.sendbackOrderReturnInfo,method:"post",data:t,signValidate:!0})}function g(t){return Object(V.a)({url:R.a.receiveOrderReturnInfo,method:"post",data:t,signValidate:!0})}function h(t){return Object(V.a)({url:R.a.refundOrderReturnInfo,method:"post",data:t,signValidate:!0})}function b(t){return Object(V.a)({url:R.a.getShopShipmentsList,method:"post",data:t,signValidate:!0})}function x(t){return Object(V.a)({url:R.a.getShopShipmentsInfo,method:"post",data:t,signValidate:!0})}function O(t){return Object(V.a)({url:R.a.addShopShipmentsInfo,method:"post",data:t,signValidate:!0})}function I(t){return Object(V.a)({url:R.a.updateShopShipmentsInfo,method:"post",data:t,signValidate:!0})}function S(t){return Object(V.a)({url:R.a.deleteShopShipmentsInfo,method:"post",data:t,signValidate:!0})}function y(t){return Object(V.a)({url:R.a.getShipmentsList,method:"post",data:t,signValidate:!0})}function C(t){return Object(V.a)({url:R.a.getShipmentsInfo,method:"post",data:t,signValidate:!0})}function j(t){return Object(V.a)({url:R.a.isPrintShipmentsInfo,method:"post",data:t,signValidate:!0})}function w(t){return Object(V.a)({url:R.a.deleteShipmentsInfo,method:"post",data:t,signValidate:!0})}e.k=n,e.j=o,e.x=s,e.d=r,e.i=i,e.h=l,e.v=d,e.s=c,e.c=f,e.m=m,e.l=u,e.e=v,e.b=_,e.w=p,e.t=g,e.u=h,e.q=b,e.p=x,e.a=O,e.y=I,e.g=S,e.o=y,e.n=C,e.r=j,e.f=w;var V=a("yYIz"),R=a("z+6n")},ImsJ:function(t,e,a){var n=a("Te3/");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("8bSs")("9ea25ace",n,!0)},R7N7:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"forum-module"},[a("div",{staticClass:"forum-header"},[a("span",{staticClass:"forum-name"},[t._v(t._s(t.$route.name))]),t._v(" "),a("div",{staticClass:"pull-right"},[a("el-button",{staticClass:"back",on:{click:function(e){t.routerLink("/orderReturn","list")}}},[t._v("返回列表")])],1)]),t._v(" "),a("div",{staticStyle:{"margin-top":"24px","padding-left":"24px"}},[a("el-button",{attrs:{disabled:!(1==t.info.status)},on:{click:t.affirmOrderReturnInfo}},[t._v("审核")]),t._v(" "),a("el-button",{attrs:{disabled:!(3==t.info.status)},on:{click:t.sendbackOrderReturnInfo}},[t._v("退回")]),t._v(" "),a("el-button",{attrs:{disabled:!(4==t.info.status)},on:{click:t.receiveOrderReturnInfo}},[t._v("收货")]),t._v(" "),a("el-button",{attrs:{disabled:!(5==t.info.status)},on:{click:t.refundOrderReturnInfo}},[t._v("退款")])],1),t._v(" "),a("table",{staticClass:"pro-table"},[t._m(0),t._v(" "),t._l(t.productList,function(e,n){return a("tr",{key:n},[a("td",[t._v(t._s(e.productCode))]),t._v(" "),a("td",[a("div",{staticClass:"w280"},[a("img",{staticClass:"img-w50",attrs:{src:t.url+e.coverImg,alt:""}}),t._v(" "),a("span",{staticClass:"img-title"},[t._v(t._s(e.productName))])])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.itemPrice))])]),t._v(" "),a("td",[t._v(t._s(e.itemWeight))]),t._v(" "),a("td",[a("span",[t._v(t._s(e.itemPrice))])]),t._v(" "),a("td",[t._v(t._s(t.count[n]))])])})],2),t._v(" "),a("el-form",{ref:"form",staticClass:"table-body",attrs:{"label-width":"160px",model:t.info,rules:t.rules}},[a("div",{staticClass:"more-info  more-info1",on:{click:t.toggleMore1}},[t._v("订单信息"),a("i",{staticClass:"el-icon-caret-bottom"})]),t._v(" "),t.orderInfoState?a("el-row",{staticClass:"form-group"},[a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"订单编号"}},[t._v("\n               "+t._s(t.info.code)+"\n          ")])],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"下单日期"}},[t._v("\n               "+t._s(t.info.createTime)+"\n          ")])],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"订单状态"}},[1==t.info.orderStatus?a("span",[t._v("未确认")]):t._e(),t._v(" "),2==t.info.orderStatus?a("span",[t._v("已确认")]):t._e(),t._v(" "),3==t.info.orderStatus?a("span",[t._v("已取消")]):t._e(),t._v(" "),4==t.info.orderStatus?a("span",[t._v("已完成")]):t._e()])],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"支付状态"}},[1==t.info.paymentStatus?a("span",[t._v("未支付")]):t._e(),t._v(" "),2==t.info.paymentStatus?a("span",[t._v("已支付")]):t._e(),t._v(" "),3==t.info.paymentStatus?a("span",[t._v("已退款")]):t._e()])],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"配送状态"}},[1==t.info.shippingStatus?a("span",[t._v("未发货")]):t._e(),t._v(" "),2==t.info.shippingStatus?a("span",[t._v("已发货")]):t._e(),t._v(" "),3==t.info.shippingStatus?a("span",[t._v("已退货")]):t._e()])],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"配送方式"}},[a("span",[t._v("\n                           "+t._s(t.info.shippingName)+"\n                       ")])])],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"商品总金额"}},[t._v("\n                    "+t._s(t.countPrice)+"\n                ")])],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"运费"}},[a("span",[t._v("\n                           "+t._s(t.info.freight)+"\n                       ")])])],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"订单总金额"}},[t._v("\n                    "+t._s(t.countPrice)+"\n                ")])],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"支付方式"}},[a("span",[t._v(t._s(t.info.paymentName))])])],1)],1):t._e(),t._v(" "),a("div",{staticClass:"more-info more-info3 ",on:{click:t.toggleMore3}},[t._v("退款详情"),a("i",{staticClass:"el-icon-caret-bottom"})]),t._v(" "),t.orderReturnState?a("el-row",{staticClass:"form-group"},[a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"退款编号"}},[a("span",[t._v(t._s(t.info.returnCode))])])],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"申请时间"}},[a("span",[t._v(t._s(t.info.returnTime))])])],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"退款类型"}},[1==t.info.returnType?a("span",[t._v("已发货,申请退货")]):t._e(),t._v(" "),2==t.info.returnType?a("span",[t._v("未发货,申请退货")]):t._e()])],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"退款状态"}},[1==t.info.status?a("span",[t._v("待审核")]):t._e(),t._v(" "),2==t.info.status?a("span",[t._v("已审核")]):t._e(),t._v(" "),3==t.info.status?a("span",[t._v("已退回")]):t._e(),t._v(" "),4==t.info.status?a("span",[t._v("待收货")]):t._e(),t._v(" "),5==t.info.status?a("span",[t._v("已收货")]):t._e(),t._v(" "),6==t.info.status?a("span",[t._v("已退款")]):t._e(),t._v(" "),7==t.info.status?a("span",[t._v("已完成")]):t._e()])],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"退款金额"}},[a("span",[t._v(t._s(t.info.money))])])],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"退款支付类型"}},[1==t.info.returnPayType?a("span",[t._v("买家个人账户")]):t._e(),t._v(" "),2==t.info.returnPayType?a("span",[t._v("支付宝")]):t._e()])],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24}},[a("el-form-item",{attrs:{label:"退款原因"}},[a("span",[t._v(t._s(t.info.returnReasonTypeName))])])],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24}},[a("el-form-item",{attrs:{label:"退款说明"}},[a("span",[t._v(t._s(t.info.reason))])])],1)],1):t._e(),t._v(" "),a("div",{staticClass:"more-info more-info2 ",on:{click:t.toggleMore2}},[t._v("收货人信息"),a("i",{staticClass:"el-icon-caret-bottom"})]),t._v(" "),t.userInfoState?a("el-row",{staticClass:"form-group"},[a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"收货人姓名"}},[a("span",[t._v(t._s(t.info.receiveName))])])],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"收货人手机号"}},[a("span",[t._v(t._s(t.info.receiveMobile))])])],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"收货人固定电话"}},[a("span",[t._v(t._s(t.info.receivePhone))])])],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"收货人邮编"}},[a("span",[t._v(t._s(t.info.receiveZip))])])],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24}},[a("el-form-item",{attrs:{label:"收货人地址"}},[a("span",[t._v(t._s(t.info.receiveAddress))])])],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24}},[a("el-form-item",{attrs:{label:"客户留言"}},[t._v("\n                        "+t._s(t.info.comments)+"\n                      \n                    ")])],1)],1):t._e(),t._v(" "),a("div",{staticClass:"more-info more-info4 "},[t._v("退货物流信息"),a("i",{staticClass:"el-icon-caret-bottom"})]),t._v(" "),a("el-row",{staticClass:"form-group"},[a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"物流单号"}},[a("span",[t._v(t._s(t.info.invoiceNo))])])],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"所选物流"}},[a("span",[t._v(t._s(t.info.shippingLogistics))])])],1)],1)],1)],1)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",[t._v("商品编号")]),t._v(" "),a("th",[t._v("商品名称")]),t._v(" "),a("th",[t._v("成交价")]),t._v(" "),a("th",[t._v("单重")]),t._v(" "),a("th",[t._v("购买数量")]),t._v(" "),a("th",[t._v("小记")])])}],s={render:n,staticRenderFns:o};e.a=s},"Te3/":function(t,e,a){e=t.exports=a("BkJT")(!1),e.push([t.i,".border-all[data-v-4643a780]{border:1px solid #eee}.w280[data-v-4643a780]{width:320px;margin:0 auto}.img-w50[data-v-4643a780]{display:block;width:50px;height:50px;margin:7px 10px 7px 0;float:left}.img-title[data-v-4643a780]{float:left;line-height:20px;text-align:left;color:#1276c3;width:260px;margin-top:7px;text-overflow:ellipsis}.pro-table[data-v-4643a780]{width:100%;margin-top:24px}.w-80[data-v-4643a780]{width:80px}.pro-table th[data-v-4643a780]{border-top:1px solid #eee;border-bottom:2px solid #eee;height:50px;font-size:14px;color:#8a8e98;text-align:center}.pro-table td[data-v-4643a780]{border-bottom:1px solid #eee;font-size:14px;color:#353535;text-align:center;padding:0 12px}.more-info[data-v-4643a780]{padding-left:0;margin-top:22px;margin-bottom:0}",""])},k456:function(t,e,a){"use strict";(function(t){var n=a("FWz8");e.a={data:function(){return{centerDialogVisible:!1,centerDialogVisible1:!1,loading:!0,type:this.$route.query.type,id:this.$route.query.id,info:{},saveOrder:{orderId:0,id:"",waybill:"",comment:""},payOrderInfo:{orderId:0,bank:"",accounts:"",money:"",drawee:"",comment:""},shipmentsList:[],orderInfoState:!0,userInfoState:!0,orderReturnState:!0,typeList:[],count:[],countPrice:"",productList:[],url:"http://demo4.jeecms.com",pathUrl:"",rules:{name:[{required:!0,message:"此项必填",trigger:"blur"}]}}},methods:{getInfo:function(t){var e=this;n.l({id:t}).then(function(t){e.info=t.body,e.productList=t.body.product,e.loading=!1})},affirmOrderReturnInfo:function(){var t=this;this.$confirm("是否审核退货／退款订单？","提示",{type:"warning"}).then(function(e){n.b({id:t.id}).then(function(e){200==e.code&&(t.successMessage("订单审核成功!"),t.getInfo(t.id))})}).catch(function(t){})},sendbackOrderReturnInfo:function(){var t=this;this.$confirm("是否退回／拒绝退货订单？","提示",{type:"warning"}).then(function(e){n.w({id:t.id}).then(function(e){200==e.code&&(t.successMessage("订单退回成功!"),t.getInfo(t.id))})}).catch(function(t){})},receiveOrderReturnInfo:function(){var t=this;this.$confirm("是否确认收货？","提示",{type:"warning"}).then(function(e){n.t({id:t.id}).then(function(e){200==e.code&&(t.successMessage("订单收货成功!"),t.getInfo(t.id))})}).catch(function(t){})},refundOrderReturnInfo:function(){var t=this;this.$confirm("是否确认退款？","提示",{type:"warning"}).then(function(e){n.u({id:t.id}).then(function(t){console.log(t)})}).catch(function(t){})},toggleMore1:function(){1==this.orderInfoState?(this.orderInfoState=!1,t(".more-info1").find("i").removeClass("el-icon-caret-top").addClass("el-icon-caret-bottom")):(t(".more-info1").find("i").removeClass("el-icon-caret-bottom").addClass("el-icon-caret-top"),this.orderInfoState=!0)},toggleMore3:function(){1==this.orderReturnState?(this.orderReturnState=!1,t(".more-info3").find("i").removeClass("el-icon-caret-top").addClass("el-icon-caret-bottom")):(t(".more-info3").find("i").removeClass("el-icon-caret-bottom").addClass("el-icon-caret-top"),this.orderReturnState=!0)},toggleMore2:function(){1==this.userInfoState?(this.v=!1,t(".more-info2").find("i").removeClass("el-icon-caret-top").addClass("el-icon-caret-bottom")):(t(".more-info2").find("i").removeClass("el-icon-caret-bottom").addClass("el-icon-caret-top"),this.userInfoState=!0)},restForm:function(){this.$refs.form.resetFields(),this.getInfo(this.id),this.pathUrl=""}},watch:{productList:{handler:function(t,e){this.payOrderInfo.drawee=this.info.receiveName,this.payOrderInfo.money=this.info.total;for(var a in t)this.count[a]=t[a].itemPrice*t[a].itemCount;var n=0;for(var o in this.count)n+=this.count[o];this.countPrice=n},deep:!0}},created:function(){this.getInfo(this.id)}}}).call(e,a("tra3"))}});