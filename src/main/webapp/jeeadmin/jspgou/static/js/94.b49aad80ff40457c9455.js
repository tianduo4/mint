webpackJsonp([94],{"48Lh":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"forum-module"},[t._m(0),t._v(" "),a("div",{staticClass:"tree-layout"},[a("div",{staticClass:"tree"},[a("div",{staticClass:"reflash",on:{click:function(e){t.reflash()}}},[a("span",{staticClass:"el-icon-refresh"}),t._v(" 刷新")]),t._v(" "),a("el-tree",{attrs:{props:t.props,load:t.ansyTree,lazy:"",indent:16,"node-key":"id","default-expanded-keys":[0]},on:{"node-click":t.selectList}})],1),t._v(" "),a("div",{staticClass:"tree-list"},[a("div",{staticClass:"table-top-bar clearfix"},[a("div",{staticClass:"query-inline-box"},[a("div",{staticClass:"bread-box"},[a("label",{},[t._v("当前分类：")]),t._v(" "),a("ul",{staticClass:"type-bread"},t._l(t.breads,function(e,n){return a("li",{key:e.id,staticClass:"bread-items"},[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(a){t.clickBread(e.id,n)}}},[t._v(t._s(e.name))])])}))]),t._v(" "),a("el-select",{attrs:{filterable:"",placeholder:"添加子类型(支持模糊搜索)"},on:{change:t.creatForm},model:{value:t.params.modelId,callback:function(e){t.$set(t.params,"modelId",e)},expression:"params.modelId"}},t._l(t.ModelList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)]),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.items,stripe:""},on:{"selection-change":t.checkIds}},[a("el-table-column",{attrs:{type:"selection",align:"center",width:68}}),t._v(" "),a("el-table-column",{attrs:{label:"id",prop:"id",align:"center",width:68}}),t._v(" "),a("el-table-column",{attrs:{label:"分类名称",prop:"categoryName",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"访问路径",prop:"path",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"商品类型",prop:"typeName",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"排序",prop:"priority",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{staticClass:"w50",attrs:{type:"number",min:"0"},model:{value:e.row.priority,callback:function(a){t.$set(e.row,"priority",a)},expression:"scope.row.priority"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{staticClass:"t-edit",attrs:{title:"修改"},on:{click:function(a){t.editForm(e.row.id,e.row.typeId)}}}),t._v(" "),a("a",{staticClass:"t-del",attrs:{title:"删除"},on:{click:function(a){t.deleteItems(e.row.id)}}})]}}])})],1)],1),t._v(" "),a("div",{staticClass:"table-bottom-bar"},[a("div",{staticClass:"pull-left"},[a("el-button",{on:{click:t.savePriority}},[t._v("保存排序")]),t._v(" "),a("el-button",{attrs:{disabled:t.disabled},on:{click:function(e){t.deleteItems(t.ids)}}},[t._v("批量删除")])],1)])])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"forum-header"},[a("span",{staticClass:"forum-name"},[t._v("分类列表")])])}],o={render:n,staticRenderFns:i};e.a=o},J4VW:function(t,e,a){"use strict";var n=a("wc4o");e.a={data:function(){return{loading:!0,ids:"",disabled:!0,items:[],ModelList:[],params:{pid:0,modelId:""},breads:[{name:"所有分类",id:0}],props:{label:"name",children:"zones",isLeaf:"isChild",id:"id"}}},methods:{ansyTree:function(t,e){if(0===t.level)return e([{name:"所有分类",id:0}]);t.level>0&&n.t({pid:t.data.id}).then(function(t){var a=[];for(var n in t.body){var i={};i.id=t.body[n].id,i.isChild=!t.body[n].isChild,i.name=t.body[n].name,a.push(i)}return e(a)})},creatBread:function(t,e){if(null==t.parent)return this.breads=e.reverse(),!1;var a={name:t.data.name,id:t.data.id};e.push(a),this.creatBread(t.parent,e)},clickBread:function(t,e){var a=this.breads.length;this.breads.splice(e+1,a-1),this.params.pid=t,this.getItems()},selectList:function(t,e,a){this.creatBread(e,[]),this.loading=!0,this.params.pid=t.id,this.getItems()},getModelList:function(){var t=this;n.E().then(function(e){t.ModelList=t.creatGroup(e.body)})},creatForm:function(t){var e=this.breads[this.breads.length-1].id;this.$router.push({path:"/commodityCategoryList/save",query:{type:"save",modelId:t,id:0,parentId:e}})},editForm:function(t,e){this.breads[this.breads.length-1].id;this.$router.push({path:"/commodityCategoryList/update",query:{type:"update",typeId:e,id:t}})},getItems:function(){var t=this;n.s(this.params).then(function(e){t.items=e.body,t.loading=!1})},savePriority:function(){var t=this;this.loading=!0;var e=[],a=[];for(var i in this.items)e.push(this.items[i].id),a.push(this.items[i].priority);e=e.join(","),a=a.join(",");var o={ids:e,priority:a};n.M(o).then(function(e){t.loading=!1,200==e.code&&t.successMessage("修改排序成功"),t.getItems()})},deleteItems:function(t){var e=this;this.$confirm("确定要删除吗?","警告",{type:"error"}).then(function(a){n.g({ids:t}).then(function(t){200==t.code&&e.successMessage("删除成功"),e.getItems()})}).catch(function(t){})},checkIds:function(t){for(var e=[],a=0;a<t.length;a++)e.push(t[a].id);0==e.length?(this.ids="",this.disabled=!0):(this.ids=e.join(","),this.disabled=!1)},reflash:function(){window.location.reload()},creatGroup:function(t){var e=[];for(var a in t){var n={value:"",label:""};n.label=t[a].name,n.value=t[a].id,e.push(n)}return e}},created:function(){var t=this.$route.query.id;this.loading=!0,t&&(this.params.pid=t),this.getItems(),this.getModelList()}}},PCMA:function(t,e,a){e=t.exports=a("BkJT")(!1),e.push([t.i,".tree-list[data-v-ef93834e]{margin-left:200px}",""])},bthK:function(t,e,a){"use strict";function n(t){a("mwZl")}Object.defineProperty(e,"__esModule",{value:!0});var i=a("J4VW"),o=a("48Lh"),r=a("46Yf"),s=n,d=r(i.a,o.a,!1,s,"data-v-ef93834e",null);e.default=d.exports},mwZl:function(t,e,a){var n=a("PCMA");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("8bSs")("6cf74806",n,!0)},wc4o:function(t,e,a){"use strict";function n(t){return Object(Z.a)({url:Q.a.getProductList,method:"post",data:t,nonceStr:!0,signValidate:!0})}function i(t){return Object(Z.a)({url:Q.a.getProductInfo,method:"post",data:t,nonceStr:!0,signValidate:!0})}function o(t){return Object(Z.a)({url:Q.a.getBrandListByCategoryId,method:"post",data:t,nonceStr:!0,signValidate:!0})}function r(t){return Object(Z.a)({url:Q.a.addProductList,method:"post",data:t,nonceStr:!0,signValidate:!0})}function s(t){return Object(Z.a)({url:Q.a.updateProductList,method:"post",data:t,nonceStr:!0,signValidate:!0})}function d(t){return Object(Z.a)({url:Q.a.deleteProductList,method:"post",data:t,nonceStr:!0,signValidate:!0})}function l(t){return Object(Z.a)({url:Q.a.getCommodityCategoryTree,method:"post",data:t,signValidate:!0})}function c(t){return Object(Z.a)({url:Q.a.getCommodityCategoryList,method:"post",data:t,signValidate:!0})}function u(t){return Object(Z.a)({url:Q.a.getCommodityCategoryInfo,method:"post",data:t,signValidate:!0})}function p(t){return Object(Z.a)({url:Q.a.getHotList,method:"post",data:t,signValidate:!0})}function f(t){return Object(Z.a)({url:Q.a.getSaleChatList,method:"post",data:t,signValidate:!0})}function m(t){return Object(Z.a)({url:Q.a.addCommodityCategoryInfo,method:"post",data:t,nonceStr:!0,signValidate:!0})}function h(t){return Object(Z.a)({url:Q.a.updateCommodityCategoryInfo,method:"post",data:t,nonceStr:!0,signValidate:!0})}function g(t){return Object(Z.a)({url:Q.a.getCommodityTopCategory,method:"post",data:t,signValidate:!0})}function b(t){return Object(Z.a)({url:Q.a.getCommodityTemplate,method:"post",data:t,signValidate:!0})}function v(t){return Object(Z.a)({url:Q.a.getCommodityBrand,method:"post",nonceStr:!0,data:t,signValidate:!0})}function y(t){return Object(Z.a)({url:Q.a.getCommodityStandardType,method:"post",nonceStr:!0,data:t,signValidate:!0})}function j(t){return Object(Z.a)({url:Q.a.getBrandList,method:"post",nonceStr:!0,data:t,signValidate:!0})}function S(t){return Object(Z.a)({url:Q.a.getBrandInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function C(t){return Object(Z.a)({url:Q.a.getBrandTypeInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function I(t){return Object(Z.a)({url:Q.a.addBrandInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function O(t){return Object(Z.a)({url:Q.a.updateBrandInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function V(t){return Object(Z.a)({url:Q.a.deleteBrandInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function _(t){return Object(Z.a)({url:Q.a.priorityBrandInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function L(t){return Object(Z.a)({url:Q.a.deleteCommodityCategoryInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function k(t){return Object(Z.a)({url:Q.a.priorityCommodityCategoryInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function w(t){return Object(Z.a)({url:Q.a.getStandardList,method:"post",nonceStr:!0,data:t,signValidate:!0})}function B(t){return Object(Z.a)({url:Q.a.getStandardInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function M(t){return Object(Z.a)({url:Q.a.addStandardInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function T(t){return Object(Z.a)({url:Q.a.updateStandardInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function x(t){return Object(Z.a)({url:Q.a.deleteStandardInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function P(t){return Object(Z.a)({url:Q.a.priorityStandardInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function $(t){return Object(Z.a)({url:Q.a.getTypeInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function F(t){return Object(Z.a)({url:Q.a.addTypeInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function q(t){return Object(Z.a)({url:Q.a.updateTypeInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function z(t){return Object(Z.a)({url:Q.a.deleteTypeInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function D(t){return Object(Z.a)({url:Q.a.getModelList,method:"post",nonceStr:!0,data:t,signValidate:!0})}function J(t){return Object(Z.a)({url:Q.a.getModelListAll,method:"post",nonceStr:!0,data:t,signValidate:!0})}function A(t){return Object(Z.a)({url:Q.a.getModelInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function E(t){return Object(Z.a)({url:Q.a.getConsultList,method:"post",nonceStr:!0,data:t,signValidate:!0})}function N(t){return Object(Z.a)({url:Q.a.getConsultInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function G(t){return Object(Z.a)({url:Q.a.updateConsultInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function H(t){return Object(Z.a)({url:Q.a.deleteConsultInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function K(t){return Object(Z.a)({url:Q.a.getDiscussList,method:"post",nonceStr:!0,data:t,signValidate:!0})}function R(t){return Object(Z.a)({url:Q.a.getDiscussInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function W(t){return Object(Z.a)({url:Q.a.updateDiscussInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}function Y(t){return Object(Z.a)({url:Q.a.deleteDiscussInfo,method:"post",nonceStr:!0,data:t,signValidate:!0})}e.G=n,e.F=i,e.o=o,e.c=r,e.S=s,e.j=d,e.t=l,e.s=c,e.r=u,e.B=p,e.H=f,e.b=m,e.P=h,e.w=g,e.v=b,e.q=v,e.u=y,e.n=j,e.m=S,e.p=C,e.a=I,e.O=O,e.f=V,e.L=_,e.g=L,e.M=k,e.J=w,e.I=B,e.d=M,e.T=T,e.k=x,e.N=P,e.K=$,e.e=F,e.U=q,e.l=z,e.D=D,e.E=J,e.C=A,e.y=E,e.x=N,e.Q=G,e.h=H,e.A=K,e.z=R,e.R=W,e.i=Y;var Z=a("yYIz"),Q=a("z+6n")}});