webpackJsonp([16],{"+IKI":function(t,e,a){"use strict";var i=a("simw"),s=a("Uwrw");e.a={components:{imageUpload:s.a},data:function(){return{loading:!0,items:{domains:[]},ids:"",params:{pageNo:1,pageSize:10},disabled:!0,pagination:{total:0,currentPage:1,changePageSize:localStorage.getItem("PageSize")}}},methods:{getPosterList:function(){var t=this;i.y().then(function(e){t.items.domains=e.body,t.loading=!1})},getPath:function(t,e){this.items.domains[e].picUrl=t},addPoster:function(){var t={id:0,picUrl:"",interUrl:""};this.items.domains.unshift(t)},updatePoster:function(){var t=this,e={ids:[],picUrls:[],interUrls:[]};for(var a in this.items.domains)e.ids.push(this.items.domains[a].id),e.picUrls.push(this.items.domains[a].picUrl),e.interUrls.push(this.items.domains[a].interUrl);e.ids=e.ids.join(","),e.picUrls=e.picUrls.join(","),e.interUrls=e.interUrls.join(","),this.$refs.form.validate(function(a){a&&(t.loading=!0,i.G(e).then(function(e){200==e.code&&(t.loading=!1,t.successMessage("添加成功"),setTimeout(function(){t.getPosterList()},1e3))}))})}},created:function(){this.getPosterList()}}},"B/dN":function(t,e,a){e=t.exports=a("BkJT")(!1),e.push([t.i,".poster-24[data-v-e14d6b66]{border-top:1px solid #eee;padding:0 24px;font-size:14px;color:#5a5e66}.poster-flex[data-v-e14d6b66]{padding:20px 0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-bottom:1px dashed #efefef}.w-135[data-v-e14d6b66]{width:135px;font-size:14px;color:#5a5e66}.pic-flex[data-v-e14d6b66]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-right:85px}.pic-flex>label[data-v-e14d6b66]{margin-right:10px;white-space:nowrap}.updatePoster[data-v-e14d6b66]{margin:32px 0;margin-left:205px}",""])},Mlkw:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"gou-upload",staticStyle:{position:"relative"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:this.$store.state.sys.upLoadUrl,name:"uploadFile",data:t.upload.data,"show-file-list":!1,"on-success":t.handleAvatarSuccess,"on-progress":t.handleAvatarProgress}},[t.upload.uploading?a("div",{staticClass:"uploading"},[a("el-progress",{attrs:{type:"circle",percentage:t.upload.percent}})],1):t._e(),t._v(" "),t.upload.imageUrl?a("div",{staticClass:"upload-hover-box"},[a("img",{staticClass:"avatar",attrs:{src:t.upload.imageUrl}}),t._v(" "),t.upload.imageUrl?a("span",{staticClass:"upload-cover"},[t._v("点击修改图片")]):t._e()]):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),t._v(" "),t.upload.imageUrl?a("i",{staticClass:"iconfont bbs-delete pos-del",attrs:{title:"删除"},on:{click:function(e){e.preventDefault(),t.delImg(e)}}}):t._e()],1)},s=[],n={render:i,staticRenderFns:s};e.a=n},NZkp:function(t,e,a){"use strict";var i=a("2RFS"),s=a("s4F+");e.a={name:"imageUpload",props:{path:{type:String,default:""},index:{type:Number,default:0}},data:function(){var t=Object(i.a)();return{upload:{url:this.$store.state.sys.baseUrl,imageUrl:"",uploading:!1,percent:0,data:Object(s.a)({appId:this.$store.state.sys.appId,sessionKey:localStorage.getItem("sessionKey"),type:"image",nonceStr:t},this.$store.state.sys.appKey)}}},methods:{handleAvatarSuccess:function(t,e){this.upload.uploading=!1,this.upload.percent=0,200==t.code?(this.upload.imageUrl=URL.createObjectURL(e.raw),this.$emit("getPath",t.body.url,this.index)):209==t.code?(this.errorMessage("无上传权限"),this.$emit("getPath","",this.index)):(this.errorMessage("上传失败，请检查文件类型"),this.$emit("getPath","",this.index))},handleAvatarProgress:function(t,e,a){this.upload.uploading=!0,this.upload.percent=parseInt(t.percent)},delImg:function(){this.upload.imageUrl="",this.$emit("getPath","",this.index)}},created:function(){""==this.path||null==this.path?this.upload.imageUrl="":this.path.indexOf("http://")>=0?this.upload.imageUrl=this.path:this.upload.imageUrl=this.upload.url+this.path},watch:{path:function(t,e){""==this.path||null==this.path?this.upload.imageUrl="":this.upload.imageUrl=this.upload.url+this.path}}}},T9Ip:function(t,e,a){var i=a("kIg/");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("8bSs")("0582fcd4",i,!0)},TXTP:function(t,e,a){"use strict";function i(t){a("iPCN")}Object.defineProperty(e,"__esModule",{value:!0});var s=a("+IKI"),n=a("wHzO"),o=a("/Xao"),r=i,d=o(s.a,n.a,!1,r,"data-v-e14d6b66",null);e.default=d.exports},Uwrw:function(t,e,a){"use strict";function i(t){a("T9Ip")}var s=a("NZkp"),n=a("Mlkw"),o=a("/Xao"),r=i,d=o(s.a,n.a,!1,r,"data-v-ced38416",null);e.a=d.exports},iPCN:function(t,e,a){var i=a("B/dN");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("8bSs")("12f4af9e",i,!0)},"kIg/":function(t,e,a){e=t.exports=a("BkJT")(!1),e.push([t.i,".gou-upload[data-v-ced38416]{width:178px}.pos-del[data-v-ced38416]{position:absolute;width:45px;height:45px;color:#fff;cursor:pointer;top:0;right:0;font-size:25px;display:none;z-index:15;text-align:center}.gou-upload:hover .pos-del[data-v-ced38416],.gou-upload:hover .upload-cover[data-v-ced38416]{display:block}",""])},simw:function(t,e,a){"use strict";function i(t){return Object(N.a)({url:T.a.getAdminList,method:"post",data:t,signValidate:!0})}function s(t){return Object(N.a)({url:T.a.getAdminInfo,method:"post",data:t,signValidate:!0})}function n(t){return Object(N.a)({url:T.a.addAdminInfo,method:"post",data:t,signValidate:!0,nonceStr:!0})}function o(t){return Object(N.a)({url:T.a.deleteAdminInfo,method:"post",data:t,nonceStr:!0,signValidate:!0})}function r(t){return Object(N.a)({url:T.a.updateAdminInfo,method:"post",data:t,signValidate:!0})}function d(t){return Object(N.a)({url:T.a.getRoleList,method:"post",data:t,signValidate:!0})}function l(t){return Object(N.a)({url:T.a.getRoleInfo,method:"post",data:t,signValidate:!0})}function u(t){return Object(N.a)({url:T.a.addRoleInfo,method:"post",data:t,nonceStr:!0,signValidate:!0})}function c(t){return Object(N.a)({url:T.a.updateRoleInfo,method:"post",data:t,nonceStr:!0,signValidate:!0})}function p(t){return Object(N.a)({url:T.a.deleteRoleInfo,method:"post",data:t,signValidate:!0})}function f(t){return Object(N.a)({url:T.a.getCouponList,method:"post",data:t,signValidate:!0})}function g(t){return Object(N.a)({url:T.a.getCouponInfo,method:"post",data:t,signValidate:!0})}function h(t){return Object(N.a)({url:T.a.addCouponInfo,method:"post",data:t,signValidate:!0})}function m(t){return Object(N.a)({url:T.a.deleteCouponInfo,method:"post",data:t,signValidate:!0})}function v(t){return Object(N.a)({url:T.a.disabledCouponInfo,method:"post",data:t,nonceStr:!0,signValidate:!0})}function b(t){return Object(N.a)({url:T.a.getCustomerServiceList,method:"post",data:t,signValidate:!0})}function x(t){return Object(N.a)({url:T.a.getCustomerServiceInfo,method:"post",data:t,signValidate:!0})}function j(t){return Object(N.a)({url:T.a.addCustomerServiceInfo,method:"post",data:t,signValidate:!0})}function I(t){return Object(N.a)({url:T.a.updateCustomerServiceInfo,method:"post",data:t,signValidate:!0})}function O(t){return Object(N.a)({url:T.a.deleteCustomerServiceInfo,method:"post",data:t,signValidate:!0})}function U(t){return Object(N.a)({url:T.a.priorityCustomerServiceInfo,method:"post",data:t,signValidate:!0})}function y(t){return Object(N.a)({url:T.a.getPosterList,method:"post",data:t,signValidate:!0})}function V(t){return Object(N.a)({url:T.a.updatePosterInfo,method:"post",data:t,signValidate:!0})}function C(t){return Object(N.a)({url:T.a.getLogList,method:"post",data:t,signValidate:!0})}function w(t){return Object(N.a)({url:T.a.getAdspaceList,method:"post",data:t,signValidate:!0})}function _(t){return Object(N.a)({url:T.a.getAdspaceInfo,method:"post",data:t,signValidate:!0})}function P(t){return Object(N.a)({url:T.a.addAdspaceInfo,method:"post",data:t,signValidate:!0})}function S(t){return Object(N.a)({url:T.a.updateAdspaceInfo,method:"post",data:t,signValidate:!0})}function k(t){return Object(N.a)({url:T.a.deleteAdspaceInfo,method:"post",data:t,signValidate:!0})}function A(t){return Object(N.a)({url:T.a.getAdvertiseList,method:"post",data:t,signValidate:!0})}function L(t){return Object(N.a)({url:T.a.getAdvertiseInfo,method:"post",data:t,signValidate:!0})}function $(t){return Object(N.a)({url:T.a.addAdvertiseInfo,method:"post",data:t,signValidate:!0})}function z(t){return Object(N.a)({url:T.a.updateAdvertiseInfo,method:"post",data:t,signValidate:!0})}function R(t){return Object(N.a)({url:T.a.deleteAdvertiseInfo,method:"post",data:t,signValidate:!0})}e.o=i,e.n=s,e.a=n,e.g=o,e.C=r,e.A=d,e.z=l,e.f=u,e.H=c,e.l=p,e.u=f,e.t=g,e.d=h,e.j=m,e.m=v,e.w=b,e.v=x,e.e=j,e.F=I,e.k=O,e.B=U,e.y=y,e.G=V,e.x=C,e.q=w,e.p=_,e.b=P,e.D=S,e.h=k,e.s=A,e.r=L,e.c=$,e.E=z,e.i=R;var N=a("yYIz"),T=a("z+6n")},wHzO:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"forum-module"},[t._m(0,!1,!1),t._v(" "),a("div",{staticClass:"table-top-bar clearfix"},[a("div",{staticClass:"query-inline-box flex-between"},[a("el-button",{attrs:{type:"primary"},on:{click:t.addPoster}},[t._v("添加海报")])],1)]),t._v(" "),a("el-form",{ref:"form",attrs:{model:t.items,"label-width":"120px"}},[a("div",{staticClass:"poster-24"},t._l(t.items.domains,function(e,i){return a("div",{key:i,staticClass:"poster-flex"},[a("div",{staticClass:"w-135"},[t._v("海报"+t._s(i+1)+":")]),t._v(" "),a("div",{staticClass:"pic-flex"},[a("label",[t._v(" 图片:")]),t._v(" "),a("imageUpload",{attrs:{path:e.picUrl,index:i},on:{getPath:t.getPath}})],1),t._v(" "),a("div",{staticClass:"pic-flex"},[a("el-form-item",{attrs:{label:"链接地址",prop:"domains."+i+".interUrl",rules:{required:!0,message:"链接地址不能为空",trigger:"blur"}}},[a("el-input",{model:{value:e.interUrl,callback:function(a){t.$set(e,"interUrl",a)},expression:"item.interUrl"}})],1)],1)])}))]),t._v(" "),a("el-button",{staticClass:"updatePoster",attrs:{type:"primary"},on:{click:t.updatePoster}},[t._v("提交")])],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"forum-header"},[a("span",{staticClass:"forum-name"},[t._v("首页海报")])])}],n={render:i,staticRenderFns:s};e.a=n}});